/*!
 * Front for marketdo4a.com 1.4.0-beta.1 
 * (c) 2020 Roman Meshcheryakov
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{180:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var animejs_lib_anime_es__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(281);\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);\n\n\n\nfunction startHeroSlideAnimation(slide, func) {\n  var leftLine = slide.querySelector('.hero-slider__left-line');\n  var rightLine = slide.querySelector('.hero-slider__right-line');\n  var image = slide.querySelector('.hero-slider__img');\n  var text = slide.querySelector('.hero-slider__inner');\n\n  if (leftLine && rightLine) {\n    var transformStyle = window.getComputedStyle(leftLine).transform;\n    leftLine.style.transform = transformStyle;\n    rightLine.style.transform = transformStyle;\n  }\n\n  var animation = animejs_lib_anime_es__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].timeline({\n    autoplay: false,\n    complete: func\n  });\n  animation.add({\n    targets: slide,\n    translateX: {\n      // value: [-1579, 0],\n      value: ['-100%', 0],\n      easing: 'spring(1, 100, 20, 0)'\n    },\n    opacity: {\n      value: [0, 1],\n      easing: 'cubicBezier(.25, .1, .25, 1)',\n      duration: 400\n    }\n  }).add({\n    // Заголовки\n    targets: text,\n    translateX: [-160, 0],\n    scale: [1.3, 1],\n    easing: 'spring(1, 100, 20, 0)'\n  }, 200).add({\n    // Правая полоска\n    targets: rightLine,\n    translateX: {\n      value: [-670, 0],\n      easing: 'spring(1, 100, 20, 0)'\n    },\n    opacity: {\n      value: [0, 1],\n      easing: 'cubicBezier(.25, .1, .25, 1)',\n      duration: 300\n    }\n  }, 300).add({\n    // Левая полоска\n    targets: leftLine,\n    translateX: {\n      value: [-670, 0],\n      easing: 'spring(1, 100, 20, 0)'\n    },\n    opacity: {\n      value: [0, 1],\n      easing: 'cubicBezier(.25, .1, .25, 1)',\n      duration: 300\n    }\n  }, 400).add({\n    targets: image,\n    translateX: {\n      value: [-110, 0],\n      easing: 'spring(1, 100, 20, 0)'\n    },\n    opacity: {\n      value: [0, 1],\n      easing: 'cubicBezier(.25, .1, .25, 1)',\n      duration: 300\n    }\n  }, 800); // animation\n  //   .add({\n  //     targets: image,\n  //     translateX: {\n  //       value: 112,\n  //       easing: 'linear',\n  //     },\n  //     duration: 11420,\n  //   });\n\n  return animation;\n}\n\nvar HeroSliderEffect = {\n  init: function init() {\n    // const animations = [];\n    var swiper = this;\n    var slides = swiper.slides;\n    swiper.heroSliderEffect.animationsArray = [].map.call(slides, function (el) {\n      return {\n        start: startHeroSlideAnimation(el, function () {\n          return swiper.emit('transitionEnd');\n        }),\n        second: Object(animejs_lib_anime_es__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({\n          autoplay: false,\n          duration: swiper.params.heroSliderEffect.duration,\n          easing: 'easeInOutQuad',\n          targets: el.querySelector('.hero-slider__img'),\n          translateX: [0, '5%'],\n          complete: function complete() {\n            // console.log('sdfsdf');\n            swiper.slideNext();\n          }\n        })\n      };\n    });\n    swiper.heroSliderEffect.animationsArray[0].start.play();\n  },\n  setTranslate: function setTranslate(translate) {\n    // console.log(`setTranslate, active:${this.activeIndex}, prev: ${this.previousIndex}, translate: ${translate}`);\n    var swiper = this;\n    var slides = swiper.slides; //\n    // // if (swiper.animations.length === 0) {\n    // //\n    // // }\n\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = swiper.slides.eq(i);\n      var offset = $slideEl[0].swiperSlideOffset;\n      var tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      var ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      } // const slideOpacity = swiper.params.fadeEffect.crossFade\n      //   ? Math.max(1 - Math.abs($slideEl[0].progress), 0)\n      //   : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n\n\n      var slideOpacity = 1 + Math.min(Math.max($slideEl[0].progress, -1), 0); // console.log($slideEl[0].progress);\n      //\n      // $slideEl\n      //   .css({\n      //     opacity: slideOpacity,\n      //   })\n      //   .transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  },\n  setTransition: function setTransition(duration) {// console.log(`setTransition, active:${this.activeIndex}, prev: ${this.previousIndex}`);\n    //\n    // const swiper = this;\n    // const { slides, $wrapperEl } = swiper;\n    //\n    // for (let i = 0; i < slides.length; i += 1) {\n    //   // this.animateSlide[i].reset();\n    //   swiper.heroSliderEffect.animationsArray[i].start.seek(0);\n    //\n    //   if (i === swiper.activeIndex) {\n    //     swiper.heroSliderEffect.animationsArray[i].start.play();\n    //     // this.animateSlide[i].seek(this.animateSlide[i].duration * slideOpacity);\n    //   } else if (i === swiper.previousIndex) {\n    //     swiper.heroSliderEffect.animationsArray[i].start.seek(swiper.heroSliderEffect.animationsArray[i].start.duration);\n    //   }\n    // }\n    // slides.transition(duration);\n    // if (swiper.params.virtualTranslate && duration !== 0) {\n    //   let eventTriggered = false;\n    //   slides.transitionEnd(() => {\n    //     if (eventTriggered) return;\n    //     if (!swiper || swiper.destroyed) return;\n    //     eventTriggered = true;\n    //     swiper.animating = false;\n    //     const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n    //     for (let i = 0; i < triggerEvents.length; i += 1) {\n    //       $wrapperEl.trigger(triggerEvents[i]);\n    //     }\n    //   });\n    // }\n  },\n  setTransitionStart: function setTransitionStart() {\n    // console.log(`transitionStart, active:${this.activeIndex}, prev: ${this.previousIndex}`);\n    var swiper = this;\n    var slides = swiper.slides;\n    var bullets = swiper.pagination.bullets;\n\n    for (var i = 0; i < slides.length; i += 1) {\n      // this.animateSlide[i].reset();\n      var $line = bullets.eq(i).find('.hero-slider-control__loader-line');\n      $line.transition(300);\n      $line.removeClass('active');\n      var slideAnim = swiper.heroSliderEffect.animationsArray[i]; // console.log(slideAnim);\n\n      slideAnim.start.seek(0);\n      slideAnim.second.pause();\n\n      if (i === swiper.activeIndex) {\n        slideAnim.start.play(); // this.animateSlide[i].seek(this.animateSlide[i].duration * slideOpacity);\n      } else if (i === swiper.previousIndex) {\n        slideAnim.start.seek(slideAnim.start.duration);\n      }\n    }\n  },\n  setTransitionEnd: function setTransitionEnd() {\n    // console.log(`transitionEnd, active:${this.activeIndex}, prev: ${this.previousIndex}`);\n    var swiper = this;\n    var slides = swiper.slides;\n    var bullets = swiper.pagination.bullets;\n\n    for (var i = 0; i < slides.length; i += 1) {\n      // this.animateSlide[i].reset();\n      // swiper.heroSliderEffect.animationsArray[i].end.seek(0);\n      // anime();\n      //\n      var $line = bullets.eq(i).find('.hero-slider-control__loader-line');\n      $line.transition(swiper.params.heroSliderEffect.duration);\n      var slideAnim = swiper.heroSliderEffect.animationsArray[i];\n      slideAnim.second.pause(); // console.log(slideAnim.second.completed);\n\n      slideAnim.second.seek(0);\n\n      if (i === swiper.activeIndex) {\n        // slideAnim.second.seek(0);\n        slideAnim.second.play();\n        $line.addClass('active'); // this.animateSlide[i].seek(this.animateSlide[i].duration * slideOpacity);\n      } else if (i === swiper.previousIndex) {// slideAnim.second.seek(\n        //   slideAnim.second.duration,\n        // );\n      } else {// slideAnim.second.seek(0);\n        }\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'effect-hero-slider',\n  params: {\n    heroSliderEffect: {\n      duration: 10000,\n      animationsArray: [] // crossFade: false,\n\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    _utils_utils__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].extend(swiper, {\n      heroSliderEffect: {\n        init: HeroSliderEffect.init.bind(swiper),\n        setTranslate: HeroSliderEffect.setTranslate.bind(swiper),\n        setTransition: HeroSliderEffect.setTransition.bind(swiper),\n        setTransitionStart: HeroSliderEffect.setTransitionStart.bind(swiper),\n        setTransitionEnd: HeroSliderEffect.setTransitionEnd.bind(swiper)\n      }\n    });\n  },\n  on: {\n    beforeInit: function beforeInit() {\n      var swiper = this;\n      if (swiper.params.effect !== 'hero-slider') return;\n      swiper.heroSliderEffect.animationsArray = [];\n      swiper.classNames.push(\"\".concat(swiper.params.containerModifierClass, \"fade\"));\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true\n      }; // Utils.extend(swiper.animations, animations);\n\n      _utils_utils__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].extend(swiper.params, overwriteParams);\n      _utils_utils__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].extend(swiper.originalParams, overwriteParams);\n    },\n    // init() {\n    //   const swiper = this;\n    //   if (swiper.params.effect !== 'hero-slider') return;\n    //   console.log(this.slides);\n    // },\n    // setTranslate(translate) {\n    //   const swiper = this;\n    //   if (swiper.params.effect !== 'hero-slider') return;\n    //   swiper.heroSliderEffect.setTranslate(translate);\n    // },\n    // setTransition(duration) {\n    //   const swiper = this;\n    //   if (swiper.params.effect !== 'hero-slider') return;\n    //   swiper.heroSliderEffect.setTransition(duration);\n    // },\n    init: function init() {\n      var swiper = this;\n      if (swiper.params.effect !== 'hero-slider') return;\n      swiper.heroSliderEffect.init();\n    },\n    transitionStart: function transitionStart() {\n      var swiper = this;\n      if (swiper.params.effect !== 'hero-slider') return;\n      swiper.heroSliderEffect.setTransitionStart();\n    },\n    transitionEnd: function transitionEnd() {\n      var swiper = this;\n      if (swiper.params.effect !== 'hero-slider') return;\n      swiper.heroSliderEffect.setTransitionEnd();\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy9IZWFkZXJTbGlkZXIuanM/MDZjMyJdLCJuYW1lcyI6WyJzdGFydEhlcm9TbGlkZUFuaW1hdGlvbiIsInNsaWRlIiwiZnVuYyIsImxlZnRMaW5lIiwicXVlcnlTZWxlY3RvciIsInJpZ2h0TGluZSIsImltYWdlIiwidGV4dCIsInRyYW5zZm9ybVN0eWxlIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInRyYW5zZm9ybSIsInN0eWxlIiwiYW5pbWF0aW9uIiwiYW5pbWUiLCJ0aW1lbGluZSIsImF1dG9wbGF5IiwiY29tcGxldGUiLCJhZGQiLCJ0YXJnZXRzIiwidHJhbnNsYXRlWCIsInZhbHVlIiwiZWFzaW5nIiwib3BhY2l0eSIsImR1cmF0aW9uIiwic2NhbGUiLCJIZXJvU2xpZGVyRWZmZWN0IiwiaW5pdCIsInN3aXBlciIsInNsaWRlcyIsImhlcm9TbGlkZXJFZmZlY3QiLCJhbmltYXRpb25zQXJyYXkiLCJtYXAiLCJjYWxsIiwiZWwiLCJzdGFydCIsImVtaXQiLCJzZWNvbmQiLCJwYXJhbXMiLCJzbGlkZU5leHQiLCJwbGF5Iiwic2V0VHJhbnNsYXRlIiwidHJhbnNsYXRlIiwiaSIsImxlbmd0aCIsIiRzbGlkZUVsIiwiZXEiLCJvZmZzZXQiLCJzd2lwZXJTbGlkZU9mZnNldCIsInR4IiwidmlydHVhbFRyYW5zbGF0ZSIsInR5IiwiaXNIb3Jpem9udGFsIiwic2xpZGVPcGFjaXR5IiwiTWF0aCIsIm1pbiIsIm1heCIsInByb2dyZXNzIiwic2V0VHJhbnNpdGlvbiIsInNldFRyYW5zaXRpb25TdGFydCIsImJ1bGxldHMiLCJwYWdpbmF0aW9uIiwiJGxpbmUiLCJmaW5kIiwidHJhbnNpdGlvbiIsInJlbW92ZUNsYXNzIiwic2xpZGVBbmltIiwic2VlayIsInBhdXNlIiwiYWN0aXZlSW5kZXgiLCJwcmV2aW91c0luZGV4Iiwic2V0VHJhbnNpdGlvbkVuZCIsImFkZENsYXNzIiwibmFtZSIsImNyZWF0ZSIsIlV0aWxzIiwiZXh0ZW5kIiwiYmluZCIsIm9uIiwiYmVmb3JlSW5pdCIsImVmZmVjdCIsImNsYXNzTmFtZXMiLCJwdXNoIiwiY29udGFpbmVyTW9kaWZpZXJDbGFzcyIsIm92ZXJ3cml0ZVBhcmFtcyIsInNsaWRlc1BlclZpZXciLCJzbGlkZXNQZXJDb2x1bW4iLCJzbGlkZXNQZXJHcm91cCIsIndhdGNoU2xpZGVzUHJvZ3Jlc3MiLCJzcGFjZUJldHdlZW4iLCJvcmlnaW5hbFBhcmFtcyIsInRyYW5zaXRpb25TdGFydCIsInRyYW5zaXRpb25FbmQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBR0EsU0FBU0EsdUJBQVQsQ0FBaUNDLEtBQWpDLEVBQXdDQyxJQUF4QyxFQUE4QztBQUM1QyxNQUFNQyxRQUFRLEdBQUdGLEtBQUssQ0FBQ0csYUFBTixDQUFvQix5QkFBcEIsQ0FBakI7QUFDQSxNQUFNQyxTQUFTLEdBQUdKLEtBQUssQ0FBQ0csYUFBTixDQUFvQiwwQkFBcEIsQ0FBbEI7QUFDQSxNQUFNRSxLQUFLLEdBQUdMLEtBQUssQ0FBQ0csYUFBTixDQUFvQixtQkFBcEIsQ0FBZDtBQUNBLE1BQU1HLElBQUksR0FBR04sS0FBSyxDQUFDRyxhQUFOLENBQW9CLHFCQUFwQixDQUFiOztBQUdBLE1BQUlELFFBQVEsSUFBSUUsU0FBaEIsRUFBMkI7QUFDekIsUUFBTUcsY0FBYyxHQUFHQyxNQUFNLENBQUNDLGdCQUFQLENBQXdCUCxRQUF4QixFQUFrQ1EsU0FBekQ7QUFFQVIsWUFBUSxDQUFDUyxLQUFULENBQWVELFNBQWYsR0FBMkJILGNBQTNCO0FBQ0FILGFBQVMsQ0FBQ08sS0FBVixDQUFnQkQsU0FBaEIsR0FBNEJILGNBQTVCO0FBQ0Q7O0FBR0QsTUFBTUssU0FBUyxHQUFHQyxvRUFBSyxDQUFDQyxRQUFOLENBQWU7QUFDL0JDLFlBQVEsRUFBRSxLQURxQjtBQUUvQkMsWUFBUSxFQUFFZjtBQUZxQixHQUFmLENBQWxCO0FBS0FXLFdBQVMsQ0FDTkssR0FESCxDQUNP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QUE3QixFQUE0QztBQUM1Q3BELFlBQU0sQ0FBQ0UsZ0JBQVAsQ0FBd0J5QyxnQkFBeEI7QUFDRDtBQWpEQztBQXJCUyxDQUFmIiwiZmlsZSI6IjE4MC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhbmltZSBmcm9tICdhbmltZWpzL2xpYi9hbmltZS5lcyc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuXG5cbmZ1bmN0aW9uIHN0YXJ0SGVyb1NsaWRlQW5pbWF0aW9uKHNsaWRlLCBmdW5jKSB7XG4gIGNvbnN0IGxlZnRMaW5lID0gc2xpZGUucXVlcnlTZWxlY3RvcignLmhlcm8tc2xpZGVyX19sZWZ0LWxpbmUnKTtcbiAgY29uc3QgcmlnaHRMaW5lID0gc2xpZGUucXVlcnlTZWxlY3RvcignLmhlcm8tc2xpZGVyX19yaWdodC1saW5lJyk7XG4gIGNvbnN0IGltYWdlID0gc2xpZGUucXVlcnlTZWxlY3RvcignLmhlcm8tc2xpZGVyX19pbWcnKTtcbiAgY29uc3QgdGV4dCA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5oZXJvLXNsaWRlcl9faW5uZXInKTtcblxuXG4gIGlmIChsZWZ0TGluZSAmJiByaWdodExpbmUpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1TdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGxlZnRMaW5lKS50cmFuc2Zvcm07XG5cbiAgICBsZWZ0TGluZS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1TdHlsZTtcbiAgICByaWdodExpbmUuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtU3R5bGU7XG4gIH1cblxuXG4gIGNvbnN0IGFuaW1hdGlvbiA9IGFuaW1lLnRpbWVsaW5lKHtcbiAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgY29tcGxldGU6IGZ1bmMsXG4gIH0pO1xuXG4gIGFuaW1hdGlvblxuICAgIC5hZGQoe1xuICAgICAgdGFyZ2V0czogc2xpZGUsXG4gICAgICB0cmFuc2xhdGVYOiB7XG4gICAgICAgIC8vIHZhbHVlOiBbLTE1NzksIDBdLFxuICAgICAgICB2YWx1ZTogWyctMTAwJScsIDBdLFxuICAgICAgICBlYXNpbmc6ICdzcHJpbmcoMSwgMTAwLCAyMCwgMCknLFxuICAgICAgfSxcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdmFsdWU6IFswLCAxXSxcbiAgICAgICAgZWFzaW5nOiAnY3ViaWNCZXppZXIoLjI1LCAuMSwgLjI1LCAxKScsXG4gICAgICAgIGR1cmF0aW9uOiA0MDAsXG4gICAgICB9LFxuICAgIH0pXG4gICAgLmFkZCh7IC8vINCX0LDQs9C+0LvQvtCy0LrQuFxuICAgICAgdGFyZ2V0czogdGV4dCxcbiAgICAgIHRyYW5zbGF0ZVg6IFstMTYwLCAwXSxcbiAgICAgIHNjYWxlOiBbMS4zLCAxXSxcbiAgICAgIGVhc2luZzogJ3NwcmluZygxLCAxMDAsIDIwLCAwKScsXG4gICAgfSwgMjAwKVxuICAgIC5hZGQoeyAvLyDQn9GA0LDQstCw0Y8g0L/QvtC70L7RgdC60LBcbiAgICAgIHRhcmdldHM6IHJpZ2h0TGluZSxcbiAgICAgIHRyYW5zbGF0ZVg6IHtcbiAgICAgICAgdmFsdWU6IFstNjcwLCAwXSxcbiAgICAgICAgZWFzaW5nOiAnc3ByaW5nKDEsIDEwMCwgMjAsIDApJyxcbiAgICAgIH0sXG4gICAgICBvcGFjaXR5OiB7XG4gICAgICAgIHZhbHVlOiBbMCwgMV0sXG4gICAgICAgIGVhc2luZzogJ2N1YmljQmV6aWVyKC4yNSwgLjEsIC4yNSwgMSknLFxuICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgfSxcbiAgICB9LCAzMDApXG4gICAgLmFkZCh7IC8vINCb0LXQstCw0Y8g0L/QvtC70L7RgdC60LBcbiAgICAgIHRhcmdldHM6IGxlZnRMaW5lLFxuICAgICAgdHJhbnNsYXRlWDoge1xuICAgICAgICB2YWx1ZTogWy02NzAsIDBdLFxuICAgICAgICBlYXNpbmc6ICdzcHJpbmcoMSwgMTAwLCAyMCwgMCknLFxuICAgICAgfSxcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdmFsdWU6IFswLCAxXSxcbiAgICAgICAgZWFzaW5nOiAnY3ViaWNCZXppZXIoLjI1LCAuMSwgLjI1LCAxKScsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICB9LFxuICAgIH0sIDQwMClcbiAgICAuYWRkKHtcbiAgICAgIHRhcmdldHM6IGltYWdlLFxuICAgICAgdHJhbnNsYXRlWDoge1xuICAgICAgICB2YWx1ZTogWy0xMTAsIDBdLFxuICAgICAgICBlYXNpbmc6ICdzcHJpbmcoMSwgMTAwLCAyMCwgMCknLFxuICAgICAgfSxcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdmFsdWU6IFswLCAxXSxcbiAgICAgICAgZWFzaW5nOiAnY3ViaWNCZXppZXIoLjI1LCAuMSwgLjI1LCAxKScsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICB9LFxuICAgIH0sIDgwMCk7XG5cbiAgLy8gYW5pbWF0aW9uXG4gIC8vICAgLmFkZCh7XG4gIC8vICAgICB0YXJnZXRzOiBpbWFnZSxcbiAgLy8gICAgIHRyYW5zbGF0ZVg6IHtcbiAgLy8gICAgICAgdmFsdWU6IDExMixcbiAgLy8gICAgICAgZWFzaW5nOiAnbGluZWFyJyxcbiAgLy8gICAgIH0sXG4gIC8vICAgICBkdXJhdGlvbjogMTE0MjAsXG4gIC8vICAgfSk7XG5cbiAgcmV0dXJuIGFuaW1hdGlvbjtcbn1cblxuY29uc3QgSGVyb1NsaWRlckVmZmVjdCA9IHtcbiAgaW5pdCgpIHtcbiAgICAvLyBjb25zdCBhbmltYXRpb25zID0gW107XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCB7IHNsaWRlcyB9ID0gc3dpcGVyO1xuXG4gICAgc3dpcGVyLmhlcm9TbGlkZXJFZmZlY3QuYW5pbWF0aW9uc0FycmF5ID0gW10ubWFwLmNhbGwoc2xpZGVzLCBlbCA9PiAoe1xuICAgICAgc3RhcnQ6IHN0YXJ0SGVyb1NsaWRlQW5pbWF0aW9uKGVsLCAoKSA9PiBzd2lwZXIuZW1pdCgndHJhbnNpdGlvbkVuZCcpKSxcbiAgICAgIHNlY29uZDogYW5pbWUoe1xuICAgICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICAgIGR1cmF0aW9uOiBzd2lwZXIucGFyYW1zLmhlcm9TbGlkZXJFZmZlY3QuZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VJbk91dFF1YWQnLFxuICAgICAgICB0YXJnZXRzOiBlbC5xdWVyeVNlbGVjdG9yKCcuaGVyby1zbGlkZXJfX2ltZycpLFxuICAgICAgICB0cmFuc2xhdGVYOiBbMCwgJzUlJ10sXG4gICAgICAgIGNvbXBsZXRlKCkge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzZGZzZGYnKTtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICB9KSk7XG5cbiAgICBzd2lwZXIuaGVyb1NsaWRlckVmZmVjdC5hbmltYXRpb25zQXJyYXlbMF0uc3RhcnQucGxheSgpO1xuICB9LFxuICBzZXRUcmFuc2xhdGUodHJhbnNsYXRlKSB7XG4gICAgLy8gY29uc29sZS5sb2coYHNldFRyYW5zbGF0ZSwgYWN0aXZlOiR7dGhpcy5hY3RpdmVJbmRleH0sIHByZXY6ICR7dGhpcy5wcmV2aW91c0luZGV4fSwgdHJhbnNsYXRlOiAke3RyYW5zbGF0ZX1gKTtcblxuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgY29uc3QgeyBzbGlkZXMgfSA9IHN3aXBlcjtcbiAgICAvL1xuICAgIC8vIC8vIGlmIChzd2lwZXIuYW5pbWF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAvLyAvL1xuICAgIC8vIC8vIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgJHNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzLmVxKGkpO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gJHNsaWRlRWxbMF0uc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgICBsZXQgdHggPSAtb2Zmc2V0O1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUpIHR4IC09IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICBsZXQgdHkgPSAwO1xuICAgICAgaWYgKCFzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgdHkgPSB0eDtcbiAgICAgICAgdHggPSAwO1xuICAgICAgfVxuICAgICAgLy8gY29uc3Qgc2xpZGVPcGFjaXR5ID0gc3dpcGVyLnBhcmFtcy5mYWRlRWZmZWN0LmNyb3NzRmFkZVxuICAgICAgLy8gICA/IE1hdGgubWF4KDEgLSBNYXRoLmFicygkc2xpZGVFbFswXS5wcm9ncmVzcyksIDApXG4gICAgICAvLyAgIDogMSArIE1hdGgubWluKE1hdGgubWF4KCRzbGlkZUVsWzBdLnByb2dyZXNzLCAtMSksIDApO1xuXG4gICAgICBjb25zdCBzbGlkZU9wYWNpdHkgPSAxICsgTWF0aC5taW4oTWF0aC5tYXgoJHNsaWRlRWxbMF0ucHJvZ3Jlc3MsIC0xKSwgMCk7XG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKCRzbGlkZUVsWzBdLnByb2dyZXNzKTtcbiAgICAgIC8vXG4gICAgICAvLyAkc2xpZGVFbFxuICAgICAgLy8gICAuY3NzKHtcbiAgICAgIC8vICAgICBvcGFjaXR5OiBzbGlkZU9wYWNpdHksXG4gICAgICAvLyAgIH0pXG4gICAgICAvLyAgIC50cmFuc2Zvcm0oYHRyYW5zbGF0ZTNkKCR7dHh9cHgsICR7dHl9cHgsIDBweClgKTtcbiAgICB9XG4gIH0sXG4gIHNldFRyYW5zaXRpb24oZHVyYXRpb24pIHtcbiAgICAvLyBjb25zb2xlLmxvZyhgc2V0VHJhbnNpdGlvbiwgYWN0aXZlOiR7dGhpcy5hY3RpdmVJbmRleH0sIHByZXY6ICR7dGhpcy5wcmV2aW91c0luZGV4fWApO1xuICAgIC8vXG4gICAgLy8gY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICAvLyBjb25zdCB7IHNsaWRlcywgJHdyYXBwZXJFbCB9ID0gc3dpcGVyO1xuICAgIC8vXG4gICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAvLyAgIC8vIHRoaXMuYW5pbWF0ZVNsaWRlW2ldLnJlc2V0KCk7XG4gICAgLy8gICBzd2lwZXIuaGVyb1NsaWRlckVmZmVjdC5hbmltYXRpb25zQXJyYXlbaV0uc3RhcnQuc2VlaygwKTtcbiAgICAvL1xuICAgIC8vICAgaWYgKGkgPT09IHN3aXBlci5hY3RpdmVJbmRleCkge1xuICAgIC8vICAgICBzd2lwZXIuaGVyb1NsaWRlckVmZmVjdC5hbmltYXRpb25zQXJyYXlbaV0uc3RhcnQucGxheSgpO1xuICAgIC8vICAgICAvLyB0aGlzLmFuaW1hdGVTbGlkZVtpXS5zZWVrKHRoaXMuYW5pbWF0ZVNsaWRlW2ldLmR1cmF0aW9uICogc2xpZGVPcGFjaXR5KTtcbiAgICAvLyAgIH0gZWxzZSBpZiAoaSA9PT0gc3dpcGVyLnByZXZpb3VzSW5kZXgpIHtcbiAgICAvLyAgICAgc3dpcGVyLmhlcm9TbGlkZXJFZmZlY3QuYW5pbWF0aW9uc0FycmF5W2ldLnN0YXJ0LnNlZWsoc3dpcGVyLmhlcm9TbGlkZXJFZmZlY3QuYW5pbWF0aW9uc0FycmF5W2ldLnN0YXJ0LmR1cmF0aW9uKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyBzbGlkZXMudHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgLy8gaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSAmJiBkdXJhdGlvbiAhPT0gMCkge1xuICAgIC8vICAgbGV0IGV2ZW50VHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgLy8gICBzbGlkZXMudHJhbnNpdGlvbkVuZCgoKSA9PiB7XG4gICAgLy8gICAgIGlmIChldmVudFRyaWdnZXJlZCkgcmV0dXJuO1xuICAgIC8vICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgLy8gICAgIGV2ZW50VHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAvLyAgICAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgIC8vICAgICBjb25zdCB0cmlnZ2VyRXZlbnRzID0gWyd3ZWJraXRUcmFuc2l0aW9uRW5kJywgJ3RyYW5zaXRpb25lbmQnXTtcbiAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlnZ2VyRXZlbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgLy8gICAgICAgJHdyYXBwZXJFbC50cmlnZ2VyKHRyaWdnZXJFdmVudHNbaV0pO1xuICAgIC8vICAgICB9XG4gICAgLy8gICB9KTtcbiAgICAvLyB9XG4gIH0sXG4gIHNldFRyYW5zaXRpb25TdGFydCgpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhgdHJhbnNpdGlvblN0YXJ0LCBhY3RpdmU6JHt0aGlzLmFjdGl2ZUluZGV4fSwgcHJldjogJHt0aGlzLnByZXZpb3VzSW5kZXh9YCk7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCB7IHNsaWRlcyB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHsgYnVsbGV0cyB9ID0gc3dpcGVyLnBhZ2luYXRpb247XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgLy8gdGhpcy5hbmltYXRlU2xpZGVbaV0ucmVzZXQoKTtcbiAgICAgIGNvbnN0ICRsaW5lID0gYnVsbGV0cy5lcShpKS5maW5kKCcuaGVyby1zbGlkZXItY29udHJvbF9fbG9hZGVyLWxpbmUnKTtcbiAgICAgICRsaW5lLnRyYW5zaXRpb24oMzAwKTtcbiAgICAgICRsaW5lLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgY29uc3Qgc2xpZGVBbmltID0gc3dpcGVyLmhlcm9TbGlkZXJFZmZlY3QuYW5pbWF0aW9uc0FycmF5W2ldO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhzbGlkZUFuaW0pO1xuXG4gICAgICBzbGlkZUFuaW0uc3RhcnQuc2VlaygwKTtcbiAgICAgIHNsaWRlQW5pbS5zZWNvbmQucGF1c2UoKTtcblxuICAgICAgaWYgKGkgPT09IHN3aXBlci5hY3RpdmVJbmRleCkge1xuICAgICAgICBzbGlkZUFuaW0uc3RhcnQucGxheSgpO1xuICAgICAgICAvLyB0aGlzLmFuaW1hdGVTbGlkZVtpXS5zZWVrKHRoaXMuYW5pbWF0ZVNsaWRlW2ldLmR1cmF0aW9uICogc2xpZGVPcGFjaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoaSA9PT0gc3dpcGVyLnByZXZpb3VzSW5kZXgpIHtcbiAgICAgICAgc2xpZGVBbmltLnN0YXJ0LnNlZWsoXG4gICAgICAgICAgc2xpZGVBbmltLnN0YXJ0LmR1cmF0aW9uLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc2V0VHJhbnNpdGlvbkVuZCgpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhgdHJhbnNpdGlvbkVuZCwgYWN0aXZlOiR7dGhpcy5hY3RpdmVJbmRleH0sIHByZXY6ICR7dGhpcy5wcmV2aW91c0luZGV4fWApO1xuXG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCB7IHNsaWRlcyB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHsgYnVsbGV0cyB9ID0gc3dpcGVyLnBhZ2luYXRpb247XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgLy8gdGhpcy5hbmltYXRlU2xpZGVbaV0ucmVzZXQoKTtcbiAgICAgIC8vIHN3aXBlci5oZXJvU2xpZGVyRWZmZWN0LmFuaW1hdGlvbnNBcnJheVtpXS5lbmQuc2VlaygwKTtcbiAgICAgIC8vIGFuaW1lKCk7XG4gICAgICAvL1xuICAgICAgY29uc3QgJGxpbmUgPSBidWxsZXRzLmVxKGkpLmZpbmQoJy5oZXJvLXNsaWRlci1jb250cm9sX19sb2FkZXItbGluZScpO1xuICAgICAgJGxpbmUudHJhbnNpdGlvbihzd2lwZXIucGFyYW1zLmhlcm9TbGlkZXJFZmZlY3QuZHVyYXRpb24pO1xuXG4gICAgICBjb25zdCBzbGlkZUFuaW0gPSBzd2lwZXIuaGVyb1NsaWRlckVmZmVjdC5hbmltYXRpb25zQXJyYXlbaV07XG5cbiAgICAgIHNsaWRlQW5pbS5zZWNvbmQucGF1c2UoKTtcblxuICAgICAgLy8gY29uc29sZS5sb2coc2xpZGVBbmltLnNlY29uZC5jb21wbGV0ZWQpO1xuXG4gICAgICBzbGlkZUFuaW0uc2Vjb25kLnNlZWsoMCk7XG4gICAgICBpZiAoaSA9PT0gc3dpcGVyLmFjdGl2ZUluZGV4KSB7XG4gICAgICAgIC8vIHNsaWRlQW5pbS5zZWNvbmQuc2VlaygwKTtcbiAgICAgICAgc2xpZGVBbmltLnNlY29uZC5wbGF5KCk7XG4gICAgICAgICRsaW5lLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgLy8gdGhpcy5hbmltYXRlU2xpZGVbaV0uc2Vlayh0aGlzLmFuaW1hdGVTbGlkZVtpXS5kdXJhdGlvbiAqIHNsaWRlT3BhY2l0eSk7XG4gICAgICB9IGVsc2UgaWYgKGkgPT09IHN3aXBlci5wcmV2aW91c0luZGV4KSB7XG4gICAgICAgIC8vIHNsaWRlQW5pbS5zZWNvbmQuc2VlayhcbiAgICAgICAgLy8gICBzbGlkZUFuaW0uc2Vjb25kLmR1cmF0aW9uLFxuICAgICAgICAvLyApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc2xpZGVBbmltLnNlY29uZC5zZWVrKDApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ2VmZmVjdC1oZXJvLXNsaWRlcicsXG4gIHBhcmFtczoge1xuICAgIGhlcm9TbGlkZXJFZmZlY3Q6IHtcbiAgICAgIGR1cmF0aW9uOiAxMDAwMCxcbiAgICAgIGFuaW1hdGlvbnNBcnJheTogW10sXG4gICAgICAvLyBjcm9zc0ZhZGU6IGZhbHNlLFxuICAgIH0sXG4gIH0sXG4gIGNyZWF0ZSgpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIFV0aWxzLmV4dGVuZChzd2lwZXIsIHtcbiAgICAgIGhlcm9TbGlkZXJFZmZlY3Q6IHtcbiAgICAgICAgaW5pdDogSGVyb1NsaWRlckVmZmVjdC5pbml0LmJpbmQoc3dpcGVyKSxcbiAgICAgICAgc2V0VHJhbnNsYXRlOiBIZXJvU2xpZGVyRWZmZWN0LnNldFRyYW5zbGF0ZS5iaW5kKHN3aXBlciksXG4gICAgICAgIHNldFRyYW5zaXRpb246IEhlcm9TbGlkZXJFZmZlY3Quc2V0VHJhbnNpdGlvbi5iaW5kKHN3aXBlciksXG4gICAgICAgIHNldFRyYW5zaXRpb25TdGFydDogSGVyb1NsaWRlckVmZmVjdC5zZXRUcmFuc2l0aW9uU3RhcnQuYmluZChzd2lwZXIpLFxuICAgICAgICBzZXRUcmFuc2l0aW9uRW5kOiBIZXJvU2xpZGVyRWZmZWN0LnNldFRyYW5zaXRpb25FbmQuYmluZChzd2lwZXIpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSxcbiAgb246IHtcbiAgICBiZWZvcmVJbml0KCkge1xuICAgICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2hlcm8tc2xpZGVyJykgcmV0dXJuO1xuXG4gICAgICBzd2lwZXIuaGVyb1NsaWRlckVmZmVjdC5hbmltYXRpb25zQXJyYXkgPSBbXTtcblxuICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9ZmFkZWApO1xuICAgICAgY29uc3Qgb3ZlcndyaXRlUGFyYW1zID0ge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgICBzbGlkZXNQZXJDb2x1bW46IDEsXG4gICAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICAgIHZpcnR1YWxUcmFuc2xhdGU6IHRydWUsXG4gICAgICB9O1xuICAgICAgLy8gVXRpbHMuZXh0ZW5kKHN3aXBlci5hbmltYXRpb25zLCBhbmltYXRpb25zKTtcbiAgICAgIFV0aWxzLmV4dGVuZChzd2lwZXIucGFyYW1zLCBvdmVyd3JpdGVQYXJhbXMpO1xuICAgICAgVXRpbHMuZXh0ZW5kKHN3aXBlci5vcmlnaW5hbFBhcmFtcywgb3ZlcndyaXRlUGFyYW1zKTtcbiAgICB9LFxuICAgIC8vIGluaXQoKSB7XG4gICAgLy8gICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIC8vICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnaGVyby1zbGlkZXInKSByZXR1cm47XG4gICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLnNsaWRlcyk7XG4gICAgLy8gfSxcbiAgICAvLyBzZXRUcmFuc2xhdGUodHJhbnNsYXRlKSB7XG4gICAgLy8gICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIC8vICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnaGVyby1zbGlkZXInKSByZXR1cm47XG4gICAgLy8gICBzd2lwZXIuaGVyb1NsaWRlckVmZmVjdC5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgICAvLyB9LFxuICAgIC8vIHNldFRyYW5zaXRpb24oZHVyYXRpb24pIHtcbiAgICAvLyAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgLy8gICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdoZXJvLXNsaWRlcicpIHJldHVybjtcbiAgICAvLyAgIHN3aXBlci5oZXJvU2xpZGVyRWZmZWN0LnNldFRyYW5zaXRpb24oZHVyYXRpb24pO1xuICAgIC8vIH0sXG4gICAgaW5pdCgpIHtcbiAgICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdoZXJvLXNsaWRlcicpIHJldHVybjtcbiAgICAgIHN3aXBlci5oZXJvU2xpZGVyRWZmZWN0LmluaXQoKTtcbiAgICB9LFxuICAgIHRyYW5zaXRpb25TdGFydCgpIHtcbiAgICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdoZXJvLXNsaWRlcicpIHJldHVybjtcbiAgICAgIHN3aXBlci5oZXJvU2xpZGVyRWZmZWN0LnNldFRyYW5zaXRpb25TdGFydCgpO1xuICAgIH0sXG4gICAgdHJhbnNpdGlvbkVuZCgpIHtcbiAgICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdoZXJvLXNsaWRlcicpIHJldHVybjtcbiAgICAgIHN3aXBlci5oZXJvU2xpZGVyRWZmZWN0LnNldFRyYW5zaXRpb25FbmQoKTtcbiAgICB9LFxuICB9LFxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///180\n")}}]);