(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{125:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global,$){__webpack_require__.d(__webpack_exports__,"a",(function(){return PageProduct}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__),popper_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(61),bootstrap_js_dist_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(33),bootstrap_js_dist_util__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(bootstrap_js_dist_util__WEBPACK_IMPORTED_MODULE_4__),bootstrap_js_dist_tooltip__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(220),bootstrap_js_dist_tooltip__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(bootstrap_js_dist_tooltip__WEBPACK_IMPORTED_MODULE_5__),vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),sticky_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(51),sticky_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(sticky_js__WEBPACK_IMPORTED_MODULE_7__),_plugins_Anchor__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(221),_utils_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3),_api_reviews__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(27),_api_product__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(71),_store__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(4),_store_modules_product__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(126),_components_product_ImageBlock_vue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(72),_components_product_DetailHeader_vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(137),_components_product_DetailName_vue__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(138),_components_product_Detail_vue__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(141),_components_product_Reviews_vue__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(135),_components_product_ReviewsHeader_vue__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(133),_components_product_Similar_vue__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(139);function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(i,!0).forEach((function(e){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function initStoreInfo(){function t(t){console.log(t)}[].forEach.call(document.querySelectorAll(".p-section-availability__row"),(function(e){var i=e.querySelector(".p-section-availability__hidden"),r=e.querySelector(".p-section-availability__link");i&&(r&&r.addEventListener("click",(function(t){t.preventDefault(),document.documentElement.clientWidth<1240&&(r.classList.contains("active")?(r.classList.remove("active"),i.classList.remove("active")):(r.classList.add("active"),i.classList.add("active"),_utils_utils__WEBPACK_IMPORTED_MODULE_9__.a.scrollTo(i)))})),e.addEventListener("mouseenter",(function(){document.documentElement.clientWidth>=1240&&(i.classList.add("active"),e.classList.add("active"),document.addEventListener("scroll",t))})),e.addEventListener("mouseleave",(function(){document.documentElement.clientWidth>=1240&&(i.classList.remove("active"),e.classList.remove("active"),document.removeEventListener("scroll",t))})),e.addEventListener("mousemove",(function(t){if(document.documentElement.clientWidth>=1240){var e=Math.min(Math.max(t.clientY-70,10),document.documentElement.clientHeight-(i.clientHeight+10)),r=Math.min(t.clientX+30,document.documentElement.clientWidth-(i.clientWidth+10));i.style.left="".concat(r,"px"),i.style.top="".concat(e,"px")}})))}))}function initCollapse(){var t=5;document.documentElement.clientWidth>=768&&(t=8),document.documentElement.clientWidth>=1240&&(t=5),[].forEach.call(document.querySelectorAll(".p-collapse"),(function(e){var i=parseInt(getComputedStyle(e).lineHeight,10);if(e.clientHeight>i*t){var r=document.createElement("div");r.classList.add("p-collapse__text"),r.innerHTML=e.innerHTML.trim(),r.style.height="".concat(i*t,"px");var n=document.createElement("button");n.classList.add("p-collapse__button"),n.innerHTML="Развернуть",n.addEventListener("click",(function(t){t.preventDefault(),n.style.display="none",r.style.height="auto"})),e.innerHTML="",e.appendChild(r),e.appendChild(n)}}))}var PageProduct=function(){function PageProduct(){var t=this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,PageProduct),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"onChangePacking",(function(e,i){var r=i;document.title=r.title,global.demo||window.history.replaceState(null,null,r.url),t.elements.breadcumpsThisPage&&(t.elements.breadcumpsThisPage.innerHTML=r.name)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"onChangeOffer",(function(e,i){var r=i;r.count_group>0?(t.elements.availability&&(t.elements.availability.style.display=""),[].forEach.call(document.querySelectorAll("[data-store-id]"),(function(e){var i=e.dataset.storeId,n=e.querySelector(".p-section-availability__col_stock > .p-section-availability__td"),o=e.querySelector(".p-section-availability__col_pickup > .p-section-availability__td"),a=e.querySelector(".p-section-availability__col_pickup > .p-section-availability__note");if({}.hasOwnProperty.call(r.available_store,i)){var s=Math.min(Math.ceil(r.available_store[i]/20),5);n&&(n.innerHTML=global.product.textAvailable[s]+t.rectRatingHTML[s]),o&&(o.innerHTML=s>0?"Через час":"Недоступен"),a&&(a.innerHTML=s>0?"Требуется предварительный заказ на сайте":"")}}))):t.elements.availability&&(t.elements.availability.style.display="none")})),this.rectRatingHTML={0:'<div class="rect-rating"><i class="rect-rating__item"></i><i class="rect-rating__item"></i><i class="rect-rating__item"></i><i class="rect-rating__item"></i><i class="rect-rating__item"></i></div>',1:'<div class="rect-rating red"><i class="rect-rating__item active"></i><i class="rect-rating__item"></i><i class="rect-rating__item"></i><i class="rect-rating__item"></i><i class="rect-rating__item"></i></div>',2:'<div class="rect-rating orange"><i class="rect-rating__item active"></i><i class="rect-rating__item active"></i><i class="rect-rating__item"></i><i class="rect-rating__item"></i><i class="rect-rating__item"></i></div>',3:'<div class="rect-rating orange"><i class="rect-rating__item active"></i><i class="rect-rating__item active"></i><i class="rect-rating__item active"></i><i class="rect-rating__item"></i><i class="rect-rating__item"></i></div>',4:'<div class="rect-rating green"><i class="rect-rating__item active"></i><i class="rect-rating__item active"></i><i class="rect-rating__item active"></i><i class="rect-rating__item active"></i><i class="rect-rating__item"></i></div>',5:'<div class="rect-rating green"><i class="rect-rating__item active"></i><i class="rect-rating__item active"></i><i class="rect-rating__item active"></i><i class="rect-rating__item active"></i><i class="rect-rating__item active"></i></div>'},this.elements={detailReviewsCount:null,reviewsCount:null,availability:null,breadcumpsThisPage:null}}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(PageProduct,[{key:"init",value:function(){$('[data-toggle="tooltip"]').tooltip(),initStoreInfo(),initCollapse(),this.elements={detailReviewsCount:document.querySelector(".p-detail__reviews"),availability:document.querySelector(".p-section-availability"),breadcumpsThisPage:document.querySelector(".breadcumps__page")};var t=document.querySelector(".p-detail__category"),e=_objectSpread({},global.product,{category:t?t.textContent:"kljljkll",country:""});_store__WEBPACK_IMPORTED_MODULE_12__.a.registerModule("product",_store_modules_product__WEBPACK_IMPORTED_MODULE_13__.a),_store__WEBPACK_IMPORTED_MODULE_12__.a.dispatch("product/init",e),this.initVue(!0)}},{key:"initVue",value:function initVue(){var _this2=this,subscribe=arguments.length>0&&void 0!==arguments[0]&&arguments[0];subscribe&&_store__WEBPACK_IMPORTED_MODULE_12__.a.subscribe((function(t,e){"product/SET_ACTIVE_OFFER_ID"===t.type&&_this2.onChangeOffer(e,t.payload),"product/SET_ACTIVE_PACKING_ID"===t.type&&_this2.onChangePacking(e,t.payload)})),new vue__WEBPACK_IMPORTED_MODULE_6__.a({store:_store__WEBPACK_IMPORTED_MODULE_12__.a,render:function(t){return t(_components_product_Detail_vue__WEBPACK_IMPORTED_MODULE_17__.a)}}).$mount("#js-product-info"),new vue__WEBPACK_IMPORTED_MODULE_6__.a({store:_store__WEBPACK_IMPORTED_MODULE_12__.a,render:function(t){return t(_components_product_DetailHeader_vue__WEBPACK_IMPORTED_MODULE_15__.a)}}).$mount(".p-detail__header"),new vue__WEBPACK_IMPORTED_MODULE_6__.a({store:_store__WEBPACK_IMPORTED_MODULE_12__.a,render:function(t){return t(_components_product_DetailName_vue__WEBPACK_IMPORTED_MODULE_16__.a)}}).$mount("#js-product-header"),new vue__WEBPACK_IMPORTED_MODULE_6__.a({store:_store__WEBPACK_IMPORTED_MODULE_12__.a,render:function(t){return t(_components_product_ImageBlock_vue__WEBPACK_IMPORTED_MODULE_14__.a)}}).$mount("#js-product-image"),new vue__WEBPACK_IMPORTED_MODULE_6__.a({store:_store__WEBPACK_IMPORTED_MODULE_12__.a,render:function(t){return t(_components_product_ReviewsHeader_vue__WEBPACK_IMPORTED_MODULE_19__.a)}}).$mount(".p-reviews-header");var reviewsList=document.querySelector("#js-product-reviews");reviewsList&&(_api_reviews__WEBPACK_IMPORTED_MODULE_10__.a.requestParam=eval("(".concat(reviewsList.dataset.request,")")),new vue__WEBPACK_IMPORTED_MODULE_6__.a({store:_store__WEBPACK_IMPORTED_MODULE_12__.a,render:function(t){return t(_components_product_Reviews_vue__WEBPACK_IMPORTED_MODULE_18__.a)}}).$mount(reviewsList));var similarSection=document.querySelector(".p-section-similar");similarSection&&(_api_product__WEBPACK_IMPORTED_MODULE_11__.a.requestParam=eval("(".concat(similarSection.dataset.request,")")),new vue__WEBPACK_IMPORTED_MODULE_6__.a({store:_store__WEBPACK_IMPORTED_MODULE_12__.a,render:function(t){return t(_components_product_Similar_vue__WEBPACK_IMPORTED_MODULE_20__.a)}}).$mount(similarSection))}}]),PageProduct}()}).call(this,__webpack_require__(9),__webpack_require__(8))},126:function(t,e,i){"use strict";(function(t){var r=i(15),n=i.n(r),o=i(0),a=i.n(o),s=i(27),c=i(71);function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}var u=0;function d(e){console.log("[GTM]:","Event data:",e),t.dataLayer?t.dataLayer.push(e):console.warn("[GTM]:","Not Installed")}var p={init:function(t,e){var i=t.commit,r=t.getters;Array.isArray(e.packing)||(e.packing=Object.values(e.packing)),e.packing.forEach((function(t){Array.isArray(t.sku)||(t.sku=Object.keys(t.sku).map((function(e){return function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(i,!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({id:parseInt(e,10)},t.sku[e])})))})),i("SET_PARAM",e),i("SET_PACKING",{packing:e.packing}),i("SET_ACTIVE_OFFER_ID",{id:e.offerId}),i("SET_ACTIVE_PACKING_ID",{id:e.productId}),d({event:"detail",stock:"основной склад",ecommerce:{detail:{products:[{id:e.offerId,name:r.activePacking.name,price:r.activeOffer.price,category:"",quantity:1,dimension3:"основной склад",position:0}]}}})},selectPacking:function(t,e){var i=t.dispatch,r=t.commit,n=e.sku.find((function(t){return t.count_group>0}));n||(n=e.sku.find((function(t){return t.count_remote>0}))),n||(n=e.sku[0]),r("SET_ACTIVE_PACKING_ID",e),r("SET_ACTIVE_OFFER_ID",n),d({event:"detail",stock:"основной склад",ecommerce:{detail:{products:[{id:n.id,name:e.name,price:n.price,category:"",quantity:1,dimension3:"основной склад",position:u+=1}]}}}),i("updateReviews"),i("updateSimilar")},selectOffer:function(t,e){var i=t.commit,r=t.getters;i("SET_ACTIVE_OFFER_ID",e),d({event:"detail",stock:"основной склад",ecommerce:{detail:{products:[{id:e.id,name:r.activePacking.name,price:e.price,category:"",quantity:1,dimension3:"основной склад",position:u+=1}]}}})},getNextReviews:function(t){var e=t.state;(0,t.dispatch)("updateReviews",e.reviewsPage+1)},addReview:function(t,e){var i=t.state,r=t.dispatch;return new Promise((function(t,n){s.a.addReview(i.packingId,e).then((function(){t(),r("updateReviews")})).catch((function(t){n(),alert(t.message||t.response.message)}))}))},updateReviews:function(t){var e=t.state,i=t.commit,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i("SET_REVIEWS_LOADING",!0),i("SET_REVIEWS_PAGE",r),s.a.getReviews(e.packingId,r).then((function(t){i(r>1?"PUSH_REVIEW_TO_REVIEWS":"SET_REVIEWS",t.data.items),i("SET_REVIEWS_COUNT",t.data.count)})).catch((function(t){console.log(t.message||t.response.message)})).finally((function(){i("SET_REVIEWS_LOADING",!1)}))},updateSimilar:function(t){var e=t.state,i=t.commit;i("SET_SIMILAR_LOADING",!0),c.a.getSimilar(e.packingId).then((function(t){i("SET_SIMILAR",t.data.items)})).catch((function(t){})).finally((function(){i("SET_SIMILAR_LOADING",!1)}))}},_={SET_PARAM:function(t,e){t.textDelivery=e.textDelivery,t.category=e.category,t.country=e.country},SET_PACKING:function(t,e){var i=e.packing;t.packing=i},SET_ACTIVE_PACKING_ID:function(t,e){var i=e.id;t.packingId=i},SET_ACTIVE_OFFER_ID:function(t,e){var i=e.id;t.offerId=i},SET_REVIEWS:function(t,e){t.reviews=e},SET_FAVORITES_STATUS:function(t,e){var i=e.id,r=e.status;t.packing.find((function(t){return t.id===i})).isFavorite=r},PUSH_REVIEW_TO_REVIEWS:function(t,e){var i;(i=t.reviews).push.apply(i,n()(e))},SET_REVIEWS_COUNT:function(t,e){t.packing.find((function(e){return e.id===t.packingId})).review=e},SET_REVIEWS_PAGE:function(t,e){t.reviewsPage=e},SET_REVIEWS_LOADING:function(t,e){t.reviewsLoading=e},SET_SIMILAR:function(t,e){t.similar=e},SET_SIMILAR_LOADING:function(t,e){t.similarLoading=e}};e.a={namespaced:!0,state:{packingId:0,offerId:0,packing:[],category:"",country:"",textDelivery:"",reviewsLoading:!1,reviewsPage:1,reviews:[],similarLoading:!1,similar:[]},getters:{activePacking:function(t){return t.packing.find((function(e){return e.id===t.packingId}))||t.packing[0]},activeOffer:function(t,e){return e.activePacking.sku.find((function(e){return e.id===t.offerId}))||e.activePacking.sku[0]},visibleOffers:function(t,e){return e.activePacking?e.activePacking.sku:[]},availableOffers:function(t,e){return e.visibleOffers.filter((function(t){return t.count_group>0}))},availableDeliveryOffers:function(t,e){return e.visibleOffers.filter((function(t){return 0===t.count_group&&t.count_remote>0}))},notAvailableOffers:function(t,e){return e.visibleOffers.filter((function(t){return 0===t.count_group&&0===t.count_remote}))},isAvailablePacking:function(t,e){return e.availableOffers.length>0||e.availableDeliveryOffers.length>0},isAvailableOffer:function(t,e){return!!e.activeOffer&&(e.activeOffer.count_group>0||e.activeOffer.count_remote>0)},isAvailableDeliveryOffer:function(t,e){return!!e.activeOffer&&(0===e.activeOffer.count_group&&e.activeOffer.count_remote>0)}},actions:p,mutations:_}}).call(this,i(9))},133:function(t,e,i){"use strict";var r=i(0),n=i.n(r),o=i(2),a=i(52),s=(i(27),{name:"StarRating",props:{value:null,disabled:Boolean},data:function(){return{temp_value:null,ratings:[1,2,3,4,5]}},methods:{star_over:function(t){this.disabled||(this.temp_value=t)},star_out:function(){this.disabled||(this.temp_value=this.value)},set:function(t){this.disabled||(this.temp_value=t,this.value=t,this.$emit("input",t))}}}),c=i(1),l={name:"ReviewsModal",components:{StarRating:Object(c.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"star-rating"},[t._l(t.ratings,(function(e){return i("label",{staticClass:"star-rating__star",class:{selected:t.temp_value>=e&&null!=t.temp_value,disabled:t.disabled},on:{click:function(i){return t.set(e)},mouseover:function(i){return t.star_over(e)},mouseout:t.star_out}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"star-rating__checkbox",attrs:{type:"radio",name:"rating",required:"",disabled:t.disabled},domProps:{value:e,checked:t._q(t.value,e)},on:{change:function(i){t.value=e}}}),t._v(" "),i("svg",{staticClass:"star-rating__icon",attrs:{viewBox:"0 0 48 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M24 0L30.4656 16.1008L47.7764 17.2746L34.4616 28.3992L38.6946 45.2254L24 36L9.30537 45.2254L13.5384 28.3992L0.223587 17.2746L17.5344 16.1008L24 0Z",fill:"currentColor"}})])])})),t._v(" "),i("div",{staticClass:"star-rating__value"},[t._v(t._s(t.temp_value))])],2)}),[],!1,null,"265f687b",null).exports},data:function(){return{status:"",temp_value:5,props:{name:"",email:"",text:"",rating:5,source:""}}},mounted:function(){new a.a(this.$refs.textarea)},methods:{onSubmit:function(){var t=this;this.status="loading",this.$store.dispatch("product/addReview",this.props).then((function(){t.$emit("modal:close"),t.status=null})).catch((function(){t.status=null}))}}},u=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{staticClass:"p-modal-form",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[i("h2",{staticClass:"p-modal-form__title"},[t._v("Оставить отзыв")]),t._v(" "),i("div",{staticClass:"p-modal-form__rating"},[i("div",{staticClass:"p-modal-form__rating-text"},[t._v("Твоя оценка:")]),t._v(" "),i("div",{staticClass:"p-modal-form__rating-stars"},[i("div",{staticClass:"star-rating"},[t._l([1,2,3,4,5],(function(e){return i("label",{staticClass:"star-rating__star",class:{selected:t.temp_value>=e},on:{click:function(i){t.props.rating=t.temp_value=e},mouseover:function(i){t.temp_value=e},mouseout:function(e){t.temp_value=t.props.rating}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.props.rating,expression:"props.rating"}],staticClass:"star-rating__checkbox",attrs:{type:"radio",name:"rating",required:""},domProps:{value:e,checked:t._q(t.props.rating,e)},on:{change:function(i){return t.$set(t.props,"rating",e)}}}),t._v(" "),i("svg",{staticClass:"star-rating__icon",attrs:{viewBox:"0 0 48 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M24 0L30.4656 16.1008L47.7764 17.2746L34.4616 28.3992L38.6946 45.2254L24 36L9.30537 45.2254L13.5384 28.3992L0.223587 17.2746L17.5344 16.1008L24 0Z",fill:"currentColor"}})])])})),t._v(" "),i("div",{staticClass:"star-rating__value"},[t._v(t._s(t.temp_value))])],2)])]),t._v(" "),i("div",{staticClass:"n-form-row"},[i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"n-form-group"},[i("div",{staticClass:"n-form-group__field"},[i("div",{staticClass:"input-field input-field_primary"},[i("label",{staticClass:"input-field__label",attrs:{for:"modal-form-review-name"}},[t._v("Как тебя зовут?*")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.props.name,expression:"props.name"}],staticClass:"input-field__input",attrs:{id:"modal-form-review-name",type:"text",name:"name",required:""},domProps:{value:t.props.name},on:{input:function(e){e.target.composing||t.$set(t.props,"name",e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"n-form-group"},[i("div",{staticClass:"n-form-group__field"},[i("div",{staticClass:"input-field input-field_primary"},[i("label",{staticClass:"input-field__label",attrs:{for:"modal-form-review-email"}},[t._v("Твой e-mail*")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.props.email,expression:"props.email"}],staticClass:"input-field__input",attrs:{id:"modal-form-review-email",type:"email",name:"email",required:""},domProps:{value:t.props.email},on:{input:function(e){e.target.composing||t.$set(t.props,"email",e.target.value)}}})])])])])]),t._v(" "),i("div",{staticClass:"p-modal-form__textarea"},[i("div",{staticClass:"input-field input-field_primary"},[i("label",{staticClass:"input-field__label",attrs:{for:"modal-form-review-text"}},[t._v("Оставить свой отзыв")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.props.text,expression:"props.text"}],ref:"textarea",staticClass:"input-field__input",attrs:{id:"modal-form-review-text",name:"text"},domProps:{value:t.props.text},on:{input:function(e){e.target.composing||t.$set(t.props,"text",e.target.value)}}})])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"p-modal-form__footer"},["loading"===t.status?i("button",{staticClass:"p-modal-form__button btn btn-red btn-block btn-skew",attrs:{type:"submit",disabled:""}},[t._m(1)]):i("button",{staticClass:"p-modal-form__button btn btn-red btn-block btn-skew",attrs:{type:"submit"}},[i("svg",{staticClass:"btn-icon",attrs:{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M9.86372 5.40662C9.90956 5.34708 9.93209 5.27229 9.92694 5.19677C9.92178 5.12124 9.88931 5.05036 9.83582 4.99788C9.78233 4.94541 9.71165 4.91508 9.63748 4.91278C9.56331 4.91049 9.49096 4.93639 9.43445 4.98546L4.06854 9.6435L1.23493 8.52531C1.11167 8.47718 1.00454 8.39395 0.92627 8.28552C0.848003 8.17708 0.801892 8.048 0.793416 7.91361C0.784939 7.77921 0.814454 7.64517 0.878452 7.52739C0.942451 7.40961 1.03824 7.31305 1.15444 7.2492L12.9182 0.525365C13.0106 0.47455 13.1149 0.450302 13.2198 0.455211C13.3247 0.46012 13.4263 0.494001 13.5138 0.553238C13.6013 0.612474 13.6714 0.694843 13.7166 0.791554C13.7618 0.888265 13.7805 0.995686 13.7705 1.10236L12.7386 12.0778C12.7283 12.1904 12.6923 12.2989 12.6337 12.3948C12.575 12.4907 12.4952 12.5713 12.4006 12.6302C12.306 12.6891 12.1992 12.7247 12.0888 12.734C11.9784 12.7434 11.8673 12.7264 11.7645 12.6843L8.31587 11.3218L6.15093 13.3918C6.07103 13.468 5.971 13.5186 5.86321 13.5374C5.75542 13.5561 5.6446 13.5423 5.54446 13.4974C5.44432 13.4526 5.35926 13.3788 5.29978 13.2852C5.24031 13.1916 5.20903 13.0822 5.20983 12.9707V11.345L9.86372 5.40662Z",fill:"currentColor"}})]),t._v("\n      Отправить отзыв\n    ")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-modal-form__note"},[this._v("\n    Оставляя отзыв на сайте, вы подтверждаете своё согласие на обработку "),e("a",{attrs:{href:"/policy-privacy/",target:"_blank"}},[this._v("\n    персональных данных")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"btn-icon"},[e("span",{staticClass:"spinner-border",attrs:{role:"status"}})])}],!1,null,"7b95e473",null).exports;function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}var p={name:"ReviewsHeader",computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(i,!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(o.c)({activePacking:"product/activePacking"})),methods:{addReview:function(){this.$modal.open(u)}}},_=Object(c.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-reviews-header"},[i("h2",{staticClass:"p-reviews-header__title"},[i("span",[t._v("Отзывы")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.activePacking.review>0,expression:"activePacking.review > 0"}],staticClass:"p-reviews-header__count"},[t._v(t._s(t.activePacking.review))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.activePacking.review>0,expression:"activePacking.review > 0"}],staticClass:"p-reviews-header__rating"},[i("div",{staticClass:"p-reviews-header__rating-stroke"},[i("span",{staticClass:"p-reviews-header__rating-value"},[t._v(t._s(t.activePacking.reviewRaiting))]),t._v(" "),i("span",{staticClass:"p-reviews-header__rating-text"},[t._v("Средняя оценка")])]),t._v(" "),i("div",{staticClass:"p-reviews-header__rating-stars"},t._l([1,2,3,4,5],(function(e){return i("i",{staticClass:"i i-star",class:{red:e<=t.activePacking.reviewRaiting}})})),0)]),t._v(" "),i("button",{staticClass:"p-reviews-header__button btn btn-red btn-skew",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addReview(e)}}},[i("svg",{staticClass:"btn-icon",attrs:{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M9.86372 5.40662C9.90956 5.34708 9.93209 5.27229 9.92694 5.19677C9.92178 5.12124 9.88931 5.05036 9.83582 4.99788C9.78233 4.94541 9.71165 4.91508 9.63748 4.91278C9.56331 4.91049 9.49096 4.93639 9.43445 4.98546L4.06854 9.6435L1.23493 8.52531C1.11167 8.47718 1.00454 8.39395 0.92627 8.28552C0.848003 8.17708 0.801892 8.048 0.793416 7.91361C0.784939 7.77921 0.814454 7.64517 0.878452 7.52739C0.942451 7.40961 1.03824 7.31305 1.15444 7.2492L12.9182 0.525365C13.0106 0.47455 13.1149 0.450302 13.2198 0.455211C13.3247 0.46012 13.4263 0.494001 13.5138 0.553238C13.6013 0.612474 13.6714 0.694843 13.7166 0.791554C13.7618 0.888265 13.7805 0.995686 13.7705 1.10236L12.7386 12.0778C12.7283 12.1904 12.6923 12.2989 12.6337 12.3948C12.575 12.4907 12.4952 12.5713 12.4006 12.6302C12.306 12.6891 12.1992 12.7247 12.0888 12.734C11.9784 12.7434 11.8673 12.7264 11.7645 12.6843L8.31587 11.3218L6.15093 13.3918C6.07103 13.468 5.971 13.5186 5.86321 13.5374C5.75542 13.5561 5.6446 13.5423 5.54446 13.4974C5.44432 13.4526 5.35926 13.3788 5.29978 13.2852C5.24031 13.1916 5.20903 13.0822 5.20983 12.9707V11.345L9.86372 5.40662Z",fill:"currentColor"}})]),t._v("\n    Оставить свой отзыв\n  ")])])}),[],!1,null,"3d4c2e1c",null);e.a=_.exports},134:function(t,e,i){"use strict";var r=i(0),n=i.n(r),o=i(2),a=i(17),s=i.n(a),c=i(10),l=i.n(c),u=i(14),d=i.n(u),p=i(3);function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}var f={name:"ProductSubscribeModal",data:function(){return{status:null,tel:"",email:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(i,!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(o.d)("product",{packingId:"packingId"})),methods:{onSubmit:function(){var t=this;this.status="loading";var e={method:"subscribe",id:this.packingId,email:this.email,phone:this.tel,sessid:p.a.sessid()};l.a.post("/local/public/basket.php",d.a.stringify(e)).then((function(t){return t.data})).then((function(t){if("error"!==t.status)return t.data;var e=new Error(t.error);throw e.response=t,e})).then((function(){t.status="success",setTimeout((function(){t.$emit("modal:close"),t.status=null}),3e3)})).catch((function(e){t.status=null,alert(e.message)}))}}},v=i(1),m=Object(v.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{staticClass:"p-subscribe",attrs:{action:"/local/public/basket.php"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[i("p",{staticClass:"p-subscribe__description"},[t._v("Уведомить, когда товар появится в наличии:")]),t._v(" "),i("div",{staticClass:"p-subscribe__body form-body",class:{"form-body_loading":"loading"===t.status,"form-body_success":"success"===t.status}},[t._m(0),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"n-form-group"},[i("div",{staticClass:"n-form-group__field"},[i("div",{staticClass:"input-field input-field_primary"},[i("label",{staticClass:"input-field__label",attrs:{for:"product-subscribe-email"}},[t._v("Email*")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input-field__input",attrs:{id:"product-subscribe-email",name:"email",autocomplete:"email",required:"",type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"n-form-group"},[i("div",{staticClass:"n-form-group__field"},[i("div",{staticClass:"input-field input-field_primary"},[i("label",{staticClass:"input-field__label",attrs:{for:"product-subscribe-tel"}},[t._v("Телефон*")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],staticClass:"input-field__input",attrs:{id:"product-subscribe-tel",name:"phone",autocomplete:"tel",required:"",type:"tel"},domProps:{value:t.tel},on:{input:function(e){e.target.composing||(t.tel=e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"p-subscribe__footer"},["success"===t.status?i("button",{staticClass:"btn btn-green btn-block btn-skew",attrs:{disabled:""}},[i("svg",{staticClass:"btn-icon",attrs:{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13 26C20.1797 26 26 20.1797 26 13C26 5.8203 20.1797 0 13 0C5.8203 0 0 5.8203 0 13C0 20.1797 5.8203 26 13 26ZM19.0608 11.0608L16.9395 8.93945L12.0001 13.8788L10.0608 11.9395L7.93945 14.0608L12.0001 18.1214L19.0608 11.0608Z",fill:"currentColor"}})]),t._v("\n      Сохранено\n    ")]):i("button",{staticClass:"btn btn-red btn-block btn-skew",attrs:{type:"submit"}},[t._v("Подписаться")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-body__loading"},[e("div",{staticClass:"form-body__spinner"}),this._v(" "),e("div",{staticClass:"form-body__loading-text"},[this._v("Отправляем...")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-body__success"},[e("div",{staticClass:"form-body__success-title"},[this._v("Готово!")]),this._v(" "),e("div",{staticClass:"form-body__success-text"},[this._v("Спасибо за вашу заявку")])])}],!1,null,"0bc7d86f",null).exports;const h=["left","right","up","down","horizontal","vertical"],g={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0,all:!0};function b(t){let e={};return h.forEach(i=>{t[i]&&(e[i]=!0)}),0===Object.keys(e).length?g:(!0===e.horizontal&&(e.left=e.right=!0),!0===e.vertical&&(e.up=e.down=!0),!0===e.left&&!0===e.right&&(e.horizontal=!0),!0===e.up&&!0===e.down&&(e.vertical=!0),!0===e.horizontal&&!0===e.vertical&&(e.all=!0),e)}function w(t){void 0!==t.touchTargetObserver&&(t.touchTargetObserver.disconnect(),t.touchTargetObserver=void 0)}const y={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{var C=Object.defineProperty({},"passive",{get(){Object.assign(y,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,C),window.removeEventListener("qtest",null,C)}catch(t){}function O(t){return 0===t.button}function E(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]&&(t=t.changedTouches[0]),{top:t.clientY,left:t.clientX}}function P(t){t.stopPropagation()}function k(t){!1!==t.cancelable&&t.preventDefault()}function D(t){!1!==t.cancelable&&t.preventDefault(),t.stopPropagation()}function L(t,e){if(void 0===t||!0===e&&!0===t.__dragPrevented)return;const i=!0===e?t=>{t.__dragPrevented=!0,t.addEventListener("dragstart",k)}:t=>{delete t.__dragPrevented,t.removeEventListener("dragstart",k)};t.querySelectorAll("a, img").forEach(i)}var x=i(7);const T="undefined"==typeof window;let M,A=!1,S=T;function j(){return(navigator.userAgent||navigator.vendor||window.opera).toLowerCase()}function I(t){const e=function(t,e){const i=/(edge|edga|edgios)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(vivaldi)[\/]([\w.]+)/.exec(t)||/(chrome|crios)[\/]([\w.]+)/.exec(t)||/(iemobile)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(firefox|fxios)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[5]||i[3]||i[1]||"",version:i[2]||i[4]||"0",versionNumber:i[4]||i[2]||"0",platform:e[0]||""}}(t,function(t){return/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[]}(t)),i={};e.browser&&(i[e.browser]=!0,i.version=e.version,i.versionNumber=parseInt(e.versionNumber,10)),e.platform&&(i[e.platform]=!0);const r=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];return!0===r||t.indexOf("mobile")>-1?(i.mobile=!0,i.edga||i.edgios?(i.edge=!0,e.browser="edge"):i.crios?(i.chrome=!0,e.browser="chrome"):i.fxios&&(i.firefox=!0,e.browser="firefox")):i.desktop=!0,(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),(i.chrome||i.opr||i.safari||i.vivaldi||!0===i.mobile&&!0!==i.ios&&!0!==r)&&(i.webkit=!0),(i.rv||i.iemobile)&&(e.browser="ie",i.ie=!0),(i.safari&&i.blackberry||i.bb)&&(e.browser="blackberry",i.blackberry=!0),i.safari&&i.playbook&&(e.browser="playbook",i.playbook=!0),i.opr&&(e.browser="opera",i.opera=!0),i.safari&&i.android&&(e.browser="android",i.android=!0),i.safari&&i.kindle&&(e.browser="kindle",i.kindle=!0),i.safari&&i.silk&&(e.browser="silk",i.silk=!0),i.vivaldi&&(e.browser="vivaldi",i.vivaldi=!0),i.name=e.browser,i.platform=e.platform,!1===T&&(window.process&&window.process.versions&&window.process.versions.electron?i.electron=!0:0===document.location.href.indexOf("chrome-extension://")?i.chromeExt=!0:(window._cordovaNative||window.cordova)&&(i.cordova=!0),!0===(A=void 0===i.cordova&&void 0===i.electron&&!!document.querySelector("[data-server-rendered]"))&&(S=!0)),i}function R(){if(void 0!==M)return M;try{if(window.localStorage)return M=!0,!0}catch(t){}return M=!1,!1}function W(){return{has:{touch:(()=>"ontouchstart"in window||window.navigator.maxTouchPoints>0)(),webStorage:R()},within:{iframe:window.self!==window.top}}}var N={has:{touch:!1,webStorage:!1},within:{iframe:!1},parseSSR(t){if(t){const e=(t.req.headers["user-agent"]||t.req.headers["User-Agent"]||"").toLowerCase();return{userAgent:e,is:I(e),has:this.has,within:this.within}}const e=j();return{userAgent:e,is:I(e),...W()}},install(t,e){!0!==T?(this.userAgent=j(),this.is=I(this.userAgent),!0===A?(e.takeover.push(t=>{S=A=!1,Object.assign(t.platform,W())}),x.a.util.defineReactive(t,"platform",this)):(Object.assign(this,W()),t.platform=this)):e.server.push((t,e)=>{t.platform=this.parseSSR(e.ssr)})}};var B=i(25);function q(t,e,i){var r,n=E(t),o=n.left-e.event.x,a=n.top-e.event.y,s=Math.abs(o),c=Math.abs(a),l=e.direction;if(!0===l.horizontal&&!0!==l.vertical?r=o<0?"left":"right":!0!==l.horizontal&&!0===l.vertical?r=a<0?"up":"down":!0===l.up&&a<0?(r="up",s>c&&(!0===l.left&&o<0?r="left":!0===l.right&&o>0&&(r="right"))):!0===l.down&&a>0?(r="down",s>c&&(!0===l.left&&o<0?r="left":!0===l.right&&o>0&&(r="right"))):!0===l.left&&o<0?(r="left",s<c&&(!0===l.up&&a<0?r="up":!0===l.down&&a>0&&(r="down"))):!0===l.right&&o>0&&(r="right",s<c&&(!0===l.up&&a<0?r="up":!0===l.down&&a>0&&(r="down"))),void 0!==r||!0===i)return{evt:t,touch:!0!==e.event.mouse,mouse:e.event.mouse,position:n,direction:r,isFirst:e.event.isFirst,isFinal:!0===i,duration:(new Date).getTime()-e.event.time,distance:{x:s,y:c},offset:{x:o,y:a},delta:{x:n.left-e.event.lastX,y:n.top-e.event.lastY}}}var $=y.notPassiveCapture;function U(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}var F={name:"ControlCounter",directives:{TouchPan:{name:"touch-pan",bind:function(t,e){var i=e.value,r=e.modifiers;if(t.__qtouchpan&&(t.__qtouchpan_old=t.__qtouchpan),!0===r.mouse||!0===B.a.has.touch){var n=!0!==r.mightPrevent&&!0!==r.prevent?"passive":"notPassive",o=y[n+(!0===r.capture?"Capture":"")],a={handler:i,modifiers:r,direction:b(r),mouseStart:function(t){O(t)&&(!0===r.mouseAllDir&&P(t),document.addEventListener("mousemove",a.move,$),document.addEventListener("mouseup",a.mouseEnd,$),a.start(t,!0))},mouseEnd:function(t){document.removeEventListener("mousemove",a.move,$),document.removeEventListener("mouseup",a.mouseEnd,$),a.end(t)},start:function(e,i){!0===B.a.is.firefox&&L(t,!0),w(a),!0!==i&&function(t,e,i){const r=e.target;i.touchTargetObserver=new MutationObserver(()=>{!1===t.contains(r)&&i.end(e)}),i.touchTargetObserver.observe(t,{childList:!0,subtree:!0})}(t,e,a);var r=E(e);a.event={x:r.left,y:r.top,time:(new Date).getTime(),mouse:!0===i,detected:!1,abort:!1,isFirst:!0,isFinal:!1,lastX:r.left,lastY:r.top}},move:function(t){if(void 0!==a.event&&!0!==a.event.abort)if(!0!==a.event.detected){if(!0===a.direction.all||!0===a.event.mouse&&!0===r.mouseAllDir)return a.event.detected=!0,void a.move(t);var e=E(t),i=e.left-a.event.x,n=e.top-a.event.y,o=Math.abs(i),c=Math.abs(n);o!==c&&(!0===a.direction.horizontal&&o>c||!0===a.direction.vertical&&o<c||!0===a.direction.up&&o<c&&n<0||!0===a.direction.down&&o<c&&n>0||!0===a.direction.left&&o>c&&i<0||!0===a.direction.right&&o>c&&i>0?(a.event.detected=!0,a.move(t)):a.event.abort=!0)}else{!0!==a.event.isFirst&&s(t,a.event.mouse);var l=q(t,a,!1);void 0!==l&&(!1===a.handler(l)?a.mouseEnd(t):(!0===a.event.isFirst&&(s(t,a.event.mouse),document.documentElement.style.cursor="grabbing",document.body.classList.add("no-pointer-events"),document.body.classList.add("non-selectable"),function(){if(void 0!==window.getSelection){const t=window.getSelection();void 0!==t.empty?t.empty():void 0!==t.removeAllRanges&&(t.removeAllRanges(),!0!==N.is.mobile&&t.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}()),a.event.lastX=l.position.left,a.event.lastY=l.position.top,a.event.isFirst=!1))}},end:function(e){void 0!==a.event&&(!0===B.a.is.firefox&&L(t,!1),!0!==a.event.mouse&&w(a),document.documentElement.style.cursor="",document.body.classList.remove("no-pointer-events"),document.body.classList.remove("non-selectable"),!0!==a.event.abort&&!0===a.event.detected&&!0!==a.event.isFirst&&(s(e,a.event.mouse),a.handler(q(e,a,!0))),a.event=void 0)}};t.__qtouchpan=a,!0===r.mouse&&t.addEventListener("mousedown",a.mouseStart,y["notPassive".concat(!0===r.mouseCapture?"Capture":"")]),!0===B.a.has.touch&&(t.addEventListener("touchstart",a.start,o),t.addEventListener("touchmove",a.move,o),t.addEventListener("touchcancel",a.end,r.capture),t.addEventListener("touchend",a.end,r.capture))}function s(t,e){!0===r.mouse&&!0===e?D(t):(r.stop&&P(t),r.prevent&&k(t))}},update:function(t,e){var i=t.__qtouchpan;void 0!==i&&function(t,{oldValue:e,value:i,modifiers:r}){e!==i&&(t.handler=i),h.some(e=>r[e]!==t.modifiers[e])&&(t.modifiers=r,t.direction=b(r))}(i,e)},unbind:function(t,e){var i=e.modifiers,r=t.__qtouchpan_old||t.__qtouchpan;if(void 0!==r){!0===B.a.is.firefox&&L(t,!1),w(r),document.documentElement.style.cursor="",document.body.classList.remove("no-pointer-events"),document.body.classList.remove("non-selectable");var n=!0!==i.mightPrevent&&!0!==i.prevent?"passive":"notPassive",o=y[n+(!0===i.capture?"Capture":"")];!0===i.mouse&&(t.removeEventListener("mousedown",r.mouseStart,y["notPassive".concat(!0===i.mouseCapture?"Capture":"")]),document.removeEventListener("mousemove",r.move,$),document.removeEventListener("mouseup",r.mouseEnd,$)),!0===B.a.has.touch&&(t.removeEventListener("touchstart",r.start,o),t.removeEventListener("touchmove",r.move,o),t.removeEventListener("touchcancel",r.end,i.capture),t.removeEventListener("touchend",r.end,i.capture)),delete t[t.__qtouchpan_old?"__qtouchpan_old":"__qtouchpan"]}}}},props:{offer:Object,isAvailable:Boolean},data:function(){return{count:1,panning:!1,requestStatus:null,isOpened:document.documentElement.clientWidth>=768}},created:function(){this.debouncedSetQuantity=s()(this.setQuantity,300)},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?U(i,!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):U(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(o.c)("product",{packing:"activePacking"}),{maxCount:function(){return this.basketItem&&this.basketItem.quantity_max?this.basketItem.quantity_max:this.offer.count_group||this.offer.count_remote},basketItem:function(){return this.$store.getters["cart/getBasketItemByProductId"](this.offer.id)}}),watch:{basketItem:function(t){t&&t.quantity&&(this.count=t.quantity)}},methods:{subscribe:function(){this.$modal.open(m)},addToCart:function(){var t=this;this.requestStatus="loading",this.$store.dispatch("cart/addProductToCart",{productId:this.offer.id,quantity:this.count,isRemote:this.offer.count_group<1&&this.offer.count_remote>0}).then((function(){document.documentElement.clientWidth<768&&t.reveal("up")})).finally((function(){t.requestStatus=null}))},increment:function(){this.count>=this.maxCount||(this.count+=1,this.basketItem&&this.debouncedSetQuantity())},decrement:function(){this.count<1||(this.count-=1,this.basketItem&&this.debouncedSetQuantity())},setQuantity:function(){var t=this;this.requestStatus="loading",this.$store.dispatch("cart/setItemQuantity",{offer:this.offer,basketItemId:this.basketItem.basketItemId,quantity:this.count}).finally((function(){t.requestStatus=null}))},handlePan:function(t){return!(document.documentElement.clientWidth>=768)&&(this.disabled?null:t.isFirst?this.startListener(t):!!this.panning&&(t.isFinal?this.stopListener(t):this.swipeListener(t)))},distanceSwiped:function(){var t=this.$refs.counter.getBoundingClientRect(),e=this.$el.getBoundingClientRect();return t.top-e.top+32},startListener:function(t){t.distance;this.$refs.counter.classList.add("p-control-counter_no-transition"),this.startTop=this.distanceSwiped(),this.panning=!0},swipeListener:function(t){var e=t.offset.y+this.startTop;return e>0?this.translateTo(0):e<-132?this.translateTo(-132):this.translateTo(e)},stopListener:function(t){var e=this,i=t.offset,r=t.distance,n=t.direction;this.$refs.counter.classList.remove("p-control-counter_no-transition");var o=this.startTop+i.y;return setTimeout((function(){e.panning=!1}),100),r.y>40?this.reveal(n):this.reveal(o<-66?"up":"down")},toggle:function(){if(this.panning)return this.panning=!1;this.isOpened?this.reveal("down"):this.reveal("up")},reveal:function(t){"up"===t&&(this.translateTo(-132),this.isOpened=!0),"down"===t&&(this.translateTo(0),this.isOpened=!1)},translateTo:function(t){var e=this;cancelAnimationFrame(this.frame),this.frame=requestAnimationFrame((function(){var i;e.$refs.counter.style.transform=0===(i=t)?"":"translate3d(-50%, ".concat(i,"px, 0)"),e.$refs.arrow1.setAttribute("d","M1,".concat(5-4*t/-132," L8,").concat(1+4*t/-132," L15,").concat(5-4*t/-132)),e.$refs.arrow2.setAttribute("d","M1,".concat(10-4*t/-132," L8,").concat(6+4*t/-132," L15,").concat(10-4*t/-132))}))}}},K=Object(v.a)(F,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-control-fixed"},[i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isAvailable,expression:"isAvailable"},{name:"touch-pan",rawName:"v-touch-pan.vertical.prevent.mouse",value:t.handlePan,expression:"handlePan",modifiers:{vertical:!0,prevent:!0,mouse:!0}}],ref:"counter",staticClass:"p-control-counter",class:{"p-control-counter_hidden":!t.basketItem}},[i("div",{staticClass:"p-control-counter__header",on:{click:function(e){return e.preventDefault(),t.toggle(e)}}},[i("svg",{staticClass:"p-control-counter__icon",attrs:{viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{ref:"arrow1",attrs:{d:"M1,5 L8,1 L15,5",stroke:"black","stroke-width":"2","stroke-opacity":"0.2"}}),t._v(" "),i("path",{ref:"arrow2",attrs:{d:"M1,10 L8,6 L15,10",stroke:"black","stroke-width":"2","stroke-opacity":"0.2"}})])]),t._v(" "),i("label",{staticClass:"p-control-counter__title",attrs:{for:"product-counter"}},[t._v("Количество")]),t._v(" "),i("div",{staticClass:"p-control-counter__row"},[i("div",{staticClass:"p-control-counter__col"},[i("button",{staticClass:"btn btn-white p-control-counter__decrement",attrs:{type:"button",disabled:t.count<=1},on:{click:t.decrement}},[t._v("-")])]),t._v(" "),i("div",{staticClass:"p-control-counter__col"},[i("input",{staticClass:"input-text p-control-counter__input",attrs:{id:"product-counter",type:"number",readonly:""},domProps:{value:t.count}})]),t._v(" "),i("div",{staticClass:"p-control-counter__col"},[i("button",{staticClass:"btn btn-white p-control-counter__increment",attrs:{type:"button",disabled:t.count>=t.maxCount},on:{click:t.increment}},[t._v("+")])])])])]),t._v(" "),t.isAvailable?t.basketItem?i("a",{staticClass:"btn btn-green p-control-button",attrs:{href:"/checkout/",title:"Перейти в корзину"}},[i("svg",{staticClass:"p-control-button__icon",attrs:{width:"22",height:"21",viewBox:"0 0 22 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M4.81034 2.95034H8.97929C9.36412 2.95034 9.68481 3.27103 9.68481 3.65586C9.68481 4.04068 9.36412 4.42551 8.97929 4.42551H5.06689L6.54206 12.9558H18.7282L20.2034 4.42551H16.291C15.9062 4.42551 15.5855 4.04068 15.5855 3.65586C15.5855 3.27103 15.9062 2.95034 16.291 2.95034H21.1013C21.5503 2.95034 21.871 3.33517 21.8069 3.84827L20.011 13.7896C19.9469 14.1745 19.6262 14.431 19.2413 14.431L5.96482 14.3669C5.57999 14.3669 5.32344 14.1103 5.19516 13.7896L3.07862 1.47517H0.705516C0.320689 1.47517 0 1.15448 0 0.705516C0 0.320689 0.320689 0 0.705516 0H3.65586C4.04068 0 4.29723 0.256551 4.36137 0.57724L4.81034 2.95034ZM8.33792 15.842C9.55653 15.842 10.5827 16.8682 10.5827 18.0869C10.5827 19.2413 9.55653 20.2675 8.33792 20.2675C7.18344 20.2675 6.15723 19.3055 6.15723 18.0869C6.15723 17.4455 6.41378 16.9324 6.79861 16.4834C7.18344 16.0986 7.76068 15.842 8.33792 15.842ZM8.33792 17.3172C8.1455 17.3172 7.95309 17.3813 7.82481 17.5738C7.69654 17.702 7.6324 17.8303 7.6324 18.0869C7.6324 18.4717 7.95309 18.7924 8.33792 18.7924C8.78688 18.7924 9.10757 18.4717 9.10757 18.0869C9.10757 17.6379 8.78688 17.3172 8.33792 17.3172ZM16.8682 15.9062C18.0869 15.9062 19.1131 16.8682 19.1131 18.0869C19.1131 19.3055 18.0869 20.2675 16.8682 20.2675C15.7138 20.2675 14.6876 19.3055 14.6876 18.0869C14.6876 17.4455 14.9441 16.9324 15.3289 16.5476C15.7138 16.0986 16.291 15.9062 16.8682 15.9062ZM16.8682 17.3172C16.6758 17.3172 16.4834 17.4455 16.3551 17.5738C16.2269 17.702 16.1627 17.8944 16.1627 18.0869C16.1627 18.4717 16.4834 18.7924 16.8682 18.7924C17.3172 18.7924 17.6379 18.4717 17.6379 18.0869C17.6379 17.702 17.3172 17.3172 16.8682 17.3172Z",fill:"white"}}),t._v(" "),i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.4939 5.43558C15.8056 5.70834 15.8372 6.18216 15.5644 6.49389L11.5597 11.0708L8.49393 8.26782C8.18823 7.98832 8.16698 7.51392 8.44648 7.20822C8.72598 6.90252 9.20038 6.88128 9.50608 7.16077L11.4403 8.92925L14.4356 5.50613C14.7083 5.1944 15.1822 5.16282 15.4939 5.43558Z",fill:"white"}})]),t._v("\n    В корзине "),i("span",{staticClass:"p-control-button__count"},[t._v(t._s(t.basketItem.quantity))])]):"loading"===t.requestStatus?i("button",{staticClass:"btn btn-red p-control-button",attrs:{disabled:""}},[t._m(0)]):i("button",{staticClass:"btn btn-red p-control-button",attrs:{title:"Добавить в корзину"},on:{click:function(e){return e.preventDefault(),t.addToCart(e)}}},[i("svg",{staticClass:"p-control-button__icon",attrs:{width:"22",height:"21",viewBox:"0 0 22 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M4.81034 2.95034H8.97929C9.36412 2.95034 9.68481 3.27103 9.68481 3.65586C9.68481 4.04068 9.36412 4.42551 8.97929 4.42551H5.06689L6.54206 12.9558H18.7282L20.2034 4.42551H16.291C15.9062 4.42551 15.5855 4.04068 15.5855 3.65586C15.5855 3.27103 15.9062 2.95034 16.291 2.95034H21.1013C21.5503 2.95034 21.871 3.33517 21.8069 3.84827L20.011 13.7896C19.9469 14.1745 19.6262 14.431 19.2413 14.431L5.96482 14.3669C5.57999 14.3669 5.32344 14.1103 5.19516 13.7896L3.07862 1.47517H0.705516C0.320689 1.47517 0 1.15448 0 0.705516C0 0.320689 0.320689 0 0.705516 0H3.65586C4.04068 0 4.29723 0.256551 4.36137 0.57724L4.81034 2.95034ZM11.8655 1.21862C11.8655 0.833791 12.2503 0.448965 12.6351 0.448965C13.02 0.448965 13.3407 0.833791 13.3407 1.21862V7.50412L14.3027 6.54206C14.6234 6.28551 15.0724 6.28551 15.3289 6.54206C15.6496 6.86275 15.6496 7.31171 15.3289 7.56826L13.1483 9.81308C13.02 9.94136 12.8276 10.0055 12.6351 10.0055C12.4427 10.0055 12.2503 9.94136 12.122 9.81308L9.94136 7.56826C9.62067 7.31171 9.62067 6.86275 9.94136 6.54206C10.1979 6.28551 10.6469 6.28551 10.9676 6.54206L11.8655 7.50412V1.21862ZM8.33792 15.842C9.55653 15.842 10.5827 16.8682 10.5827 18.0869C10.5827 19.2413 9.55653 20.2675 8.33792 20.2675C7.18344 20.2675 6.15723 19.3055 6.15723 18.0869C6.15723 17.4455 6.41378 16.9324 6.79861 16.4834C7.18344 16.0986 7.76068 15.842 8.33792 15.842ZM8.33792 17.3172C8.1455 17.3172 7.95309 17.3813 7.82481 17.5738C7.69654 17.702 7.6324 17.8303 7.6324 18.0869C7.6324 18.4717 7.95309 18.7924 8.33792 18.7924C8.78688 18.7924 9.10757 18.4717 9.10757 18.0869C9.10757 17.6379 8.78688 17.3172 8.33792 17.3172ZM16.8682 15.9062C18.0869 15.9062 19.1131 16.8682 19.1131 18.0869C19.1131 19.3055 18.0869 20.2675 16.8682 20.2675C15.7138 20.2675 14.6876 19.3055 14.6876 18.0869C14.6876 17.4455 14.9441 16.9324 15.3289 16.5476C15.7138 16.0986 16.291 15.9062 16.8682 15.9062ZM16.8682 17.3172C16.6758 17.3172 16.4834 17.4455 16.3551 17.5738C16.2269 17.702 16.1627 17.8944 16.1627 18.0869C16.1627 18.4717 16.4834 18.7924 16.8682 18.7924C17.3172 18.7924 17.6379 18.4717 17.6379 18.0869C17.6379 17.702 17.3172 17.3172 16.8682 17.3172Z",fill:"currentColor"}})]),t._v("\n    В корзину\n  ")]):i("button",{staticClass:"btn btn-black p-control-button",on:{click:function(e){return e.preventDefault(),t.subscribe(e)}}},[t._v("\n    Подписаться "),i("br"),t._v("на товар\n  ")])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"p-control-button__loading"},[e("span",{staticClass:"spinner-border",attrs:{role:"status"}})])}],!1,null,null,null);e.a=K.exports},135:function(t,e,i){"use strict";var r=i(0),n=i.n(r),o=i(2),a=i(27),s={name:"Review",props:{review:Object},data:function(){return{vote:""}},methods:{voteMinus:function(t){var e=this;""===this.vote&&a.a.vote(this.review.id,"minus").then((function(t){e.review.countMinus=t.value,e.vote="minus"}))},votePlus:function(t){var e=this;""===this.vote&&a.a.vote(this.review.id,"plus").then((function(t){e.review.countPlus=t.value,e.vote="plus"}))}}},c=i(1);function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}var u={name:"Reviews",components:{Review:Object(c.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-review-item",attrs:{itemprop:"review",itemscope:"",itemtype:"http://schema.org/Review"}},[i("div",{staticClass:"container"},[i("div",{staticClass:"p-review-item__inner"},[i("div",{staticClass:"p-review-item__header"},[i("div",{staticClass:"p-review-item__name",attrs:{itemprop:"author"}},[t._v(t._s(t.review.author))]),t._v(" "),i("div",{staticClass:"p-review-item__rating",attrs:{itemprop:"reviewRating",itemscope:"",itemtype:"http://schema.org/Rating"}},[i("meta",{attrs:{itemprop:"worstRating",content:"0"}}),t._v(" "),i("meta",{attrs:{itemprop:"bestRating",content:"5"}}),t._v(" "),i("meta",{attrs:{itemprop:"ratingValue",content:t.review.raiting}}),t._v(" "),t._l([1,2,3,4,5],(function(e){return i("i",{staticClass:"i i-star",class:{red:e<=t.review.raiting}})}))],2),t._v(" "),i("div",{staticClass:"p-review-item__date"},[t._v(t._s(t.review.created))])]),t._v(" "),i("div",{staticClass:"p-review-item__body"},[i("div",{staticClass:"p-review-item__text",attrs:{itemprop:"description"}},[t._v(t._s(t.review.text))]),t._v(" "),i("div",{staticClass:"p-review-item__vote"},[i("button",{staticClass:"btn p-review-item__down-vote",class:{active:"minus"===t.vote},on:{click:function(e){return e.preventDefault(),t.voteMinus(t.review)}}},[t._v("-")]),t._v(" "),i("span",{staticClass:"p-review-item__down-vote-count"},[t._v(t._s(t.review.countMinus))]),t._v(" "),i("button",{staticClass:"btn p-review-item__up-vote",class:{active:"plus"===t.vote},on:{click:function(e){return e.preventDefault(),t.votePlus(t.review)}}},[t._v("+")]),t._v(" "),i("span",{staticClass:"p-review-item__up-vote-count"},[t._v(t._s(t.review.countPlus))])])])])])])}),[],!1,null,"8a971c90",null).exports},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(i,!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(o.d)("product",{reviews:function(t){return t.reviews},isLoading:function(t){return t.reviewsLoading}}),{},Object(o.c)({activePacking:"product/activePacking"})),methods:Object(o.b)("product",{nextPage:"getNextReviews"}),created:function(){this.$store.dispatch("product/updateReviews")}},d=Object(c.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-reviews-list"},[0===t.activePacking.review?i("div",{staticClass:"p-reviews-list__message"},[t._v("Отзывов пока нет")]):[i("div",{staticClass:"p-reviews-list__list"},t._l(t.reviews,(function(t){return i("Review",{key:t.id,attrs:{review:t}})})),1),t._v(" "),t.reviews.length<t.activePacking.review?i("div",{staticClass:"load-more-block",class:{loading:t.isLoading}},[i("button",{staticClass:"load-more-block__link",on:{click:t.nextPage}},[t._v("Показать еще")]),t._v(" "),i("div",{staticClass:"load-more-block__value"},[t._v("Показано "+t._s(t.reviews.length)+" из "+t._s(t.activePacking.review))])]):t._e()]],2)}),[],!1,null,"689f92bc",null);e.a=d.exports},137:function(t,e,i){"use strict";var r=i(0),n=i.n(r),o=i(2),a=i(3);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}var c={name:"DetailHeader",computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(i,!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(o.d)("product",{category:"category",country:"country"}),{},Object(o.c)({currentCity:"currentCity",activeOffer:"product/activeOffer",activePacking:"product/activePacking"}),{shipingPeriod:function(){return this.currentCity?"Со склада из СПБ в ".concat(this.currentCity.name,", ").concat(this.currentCity.deliveryCountDays[0],"-").concat(this.currentCity.deliveryCountDays[1]," дней"):"Со склада в Санкт-Петербурге"},reviewsQuantityText:function(){return this.activePacking.review>0?"".concat(this.activePacking.review," ").concat(a.a.declOfNum(this.activePacking.review,["отзыв","отзыва","отзывов"])):"Нет отзывов"}})},l=i(1),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-detail__header"},[i("div",{staticClass:"p-detail__note"},[t.activeOffer.count_group>0?i("div",{staticClass:"p-delivery-badge p-delivery-badge_local"},[t._v("Магазин рядом, доставка 1 день")]):t.activeOffer.count_remote>0?i("div",{staticClass:"p-delivery-badge p-delivery-badge_central"},[t._v(t._s(t.shipingPeriod))]):t._e()]),t._v(" "),i("div",{staticClass:"p-detail__category"},[t._v(t._s(t.category))]),t._v(" "),t.country?i("div",{staticClass:"p-detail__country"},[t._v("Страна: "),i("span",{staticClass:"black"},[t._v(t._s(t.country))])]):t._e(),t._v(" "),i("a",{staticClass:"p-detail__reviews",attrs:{"data-anchor":"",href:"#reviews"}},[t._v(t._s(t.reviewsQuantityText))])])}),[],!1,null,null,null);e.a=u.exports},138:function(t,e,i){"use strict";var r=i(0),n=i.n(r),o=i(2);function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}var s={name:"DetailName",computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(i,!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(o.c)("product",["activeOffer","activePacking"]))},c=i(1),l=Object(c.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-detail-header"},[e("h1",{staticClass:"p-detail-header__name"},[this._v(this._s(this.activePacking.name))])])}),[],!1,null,null,null);e.a=l.exports},139:function(t,e,i){"use strict";var r=i(2),n={name:"Similar",data:function(){return{collapsed:!0}},components:{ProductCard:i(54).a},computed:Object(r.d)({similar:function(t){return t.product.similar},loading:function(t){return t.product.similarLoading}}),methods:{showMore:function(){this.collapsed=!1}},created:function(){this.$store.dispatch("product/updateSimilar")}},o=i(1),a=Object(o.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{directives:[{name:"show",rawName:"v-show",value:t.similar.length>0,expression:"similar.length > 0"}],staticClass:"p-section-similar"},[t._m(0),t._v(" "),i("div",{staticClass:"p-section-similar__inner"},[i("div",{staticClass:"p-section-similar__list",class:{collapsed:t.collapsed}},[t._l(t.similar,(function(e){return["product"===e.type?i("ProductCard",{attrs:{product:e.options}}):t._e()]}))],2),t._v(" "),t.similar.length>4?i("div",{directives:[{name:"show",rawName:"v-show",value:t.collapsed,expression:"collapsed"}],staticClass:"load-more-block"},[i("button",{staticClass:"load-more-block__link",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.showMore(e)}}},[t._v("Показать еще")])]):t._e()])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("h2",{staticClass:"p-section-similar__title"},[this._v("Похожие товары")])])}],!1,null,null,null);e.a=a.exports},141:function(t,e,i){"use strict";var r=i(65).a,n=i(1),o=Object(n.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-detail__info"},[i("div",{staticClass:"p-detail__control"},[i("ControlSelect")],1),t._v(" "),i("div",{staticClass:"p-detail__row"},[i("ProductPrice"),t._v(" "),i("ControlCounter",{attrs:{isAvailable:t.isAvailableOffer,offer:t.activeOffer}})],1),t._v(" "),t.isAvailableOffer?t.activeOffer.count_group>0?i("div",{staticClass:"p-detail-availability p-detail-availability_local"},[t._v("\n    В наличии сейчас в\n    "),i("a",{staticClass:"text-link",attrs:{"data-anchor":"",href:"#stores"}},[t._v(t._s(t.formatUnit(t.availableStore.length,["магазине","магазинах","магазинах"])))])]):t.activeOffer.count_remote>0?i("div",{staticClass:"p-detail-availability p-detail-availability_central"},[t._v("\n    В наличии на складе в Санкт-Петербурге\n    ")]):t._e():i("div",{staticClass:"p-detail-availability p-detail-availability_not-available"},[t._v("\n    Нет в наличии\n  ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isAvailableOffer,expression:"isAvailableOffer"}],staticClass:"p-detail-delivery"},[t.activeOffer.count_group>0?[t._m(0),t._v(" "),i("div",{staticClass:"p-detail-delivery__row"},[i("div",{staticClass:"p-detail-delivery__key"},[t._v("Курьером до двери завтра")]),t._v(" "),i("div",{staticClass:"p-detail-delivery__value"},[t._v("Бесплатно от "+t._s(t.freeShipingPrice))])])]:t.activeOffer.count_remote>0?[i("div",{staticClass:"p-detail-delivery__row"},[i("div",{staticClass:"p-detail-delivery__key"},[t._v(t._s("До почтового отделения"+t.shipingPeriod))]),t._v(" "),i("div",{staticClass:"p-detail-delivery__value"},[t._v(t._s("Бесплатно от "+t.freeShipingPrice))])]),t._v(" "),t._m(1)]:t._e(),t._v(" "),i("div",{staticClass:"p-detail-delivery__row"},[i("div",{staticClass:"p-delivery-alert"},[t._v("\n        Обратите внимание на "),i("button",{ref:"tooltip",staticClass:"p-delivery-alert__link"},[t._v("условия бесплатной доставки")])]),t._v(" "),i("div",{ref:"tooltipInner",staticClass:"p-delivery-tooltip"},[i("p",{staticClass:"p-delivery-tooltip__title"},[t._v("Бесплатная доставка от "+t._s(t.freeShipingPrice))]),t._v(" "),i("p",[t._v("\n          Сумма бесплатной доставки складывается отдельно для каждого склада.\n          Стикеры укажут, с какого склада будет отправлен заказ. Например:\n        ")]),t._v(" "),t._m(2),t._v(" "),i("p",{staticClass:"p-delivery-tooltip__title"},[t._v("Стоимость обычной доставки")]),t._v(" "),t._m(3),t._v(" "),t._m(4)])]),t._v(" "),t.activeOffer.count_group>0?i("div",{staticClass:"p-detail-delivery__row"},[i("div",{staticClass:"p-detail-delivery__key"},[t._v("Оплата при получении")]),t._v(" "),i("div",{staticClass:"p-detail-delivery__value"},[t._v("Картой или наличными")])]):t.activeOffer.count_remote>0?i("div",{staticClass:"p-detail-delivery__row"},[i("div",{staticClass:"p-detail-delivery__key"},[t._v("Оплата картой онлайн")]),t._v(" "),t._m(5)]):t._e()],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-detail-delivery__row"},[e("div",{staticClass:"p-detail-delivery__key"},[this._v("Самовывоз сегодня")]),this._v(" "),e("div",{staticClass:"p-detail-delivery__value"},[this._v("Бесплатно")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-detail-delivery__row"},[e("div",{staticClass:"p-detail-delivery__key"},[this._v("Курьером до двери, от 2 дней")]),this._v(" "),e("div",{staticClass:"p-detail-delivery__value"},[this._v("От 300 ₽")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-delivery-tooltip__row"},[i("div",{staticClass:"p-delivery-tooltip__col"},[i("div",{staticClass:"p-delivery-badge p-delivery-badge_local"},[t._v("Магазин рядом, 1 день")]),t._v(" "),i("div",[i("span",{staticClass:"gray"},[t._v("Итого:")]),t._v(" "),i("strong",[t._v("1 246 ₽")])]),t._v(" "),i("div",[t._v("Платная доставка")])]),t._v(" "),i("div",{staticClass:"p-delivery-tooltip__col"},[i("div",{staticClass:"p-delivery-badge p-delivery-badge_central"},[t._v("Со склада из СПБ, 7 дней")]),t._v(" "),i("div",[i("span",{staticClass:"gray"},[t._v("Итого:")]),t._v(" "),i("strong",[t._v("3 394 ₽")])]),t._v(" "),i("div",{staticClass:"red"},[t._v("Бесплатная доставка")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"gray"},[this._v("Самовывоз")]),this._v(" Всегда бесплатно")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"gray"},[this._v("Курьером до двери")]),this._v(" от 300 ₽ по городу")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-detail-delivery__value"},[e("i",{staticClass:"icon icon-visa"}),this._v(" "),e("i",{staticClass:"icon icon-mastercard"}),this._v(" "),e("i",{staticClass:"icon icon-mir"})])}],!1,null,null,null);e.a=o.exports},143:function(t,e,i){"use strict";var r=i(66).a,n=i(1),o=Object(n.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-control-options"},[i("div",{staticClass:"p-control-options__wrapper"},[t.packing.length>1?i("div",{staticClass:"p-control-options__weight"},[i("div",{staticClass:"p-control-radio",class:{"p-control-radio_scroll":t.packing.length>4}},[i("div",{ref:"tabWrapper",staticClass:"p-control-radio__wrapper"},t._l(t.packing,(function(e){return i("div",{key:e.id,staticClass:"p-control-radio__item",class:{active:e.id===t.activePacking.id}},[e.price_benefit>0?i("div",{staticClass:"p-control-radio__tooltip"},[i("div",{staticClass:"p-control-radio__tooltip-title"},[t._v("Экономия")]),t._v(" "),i("div",{staticClass:"p-control-radio__tooltip-price"},[t._v(t._s(e.price_benefit)+"₽")])]):t._e(),t._v(" "),i("div",{staticClass:"p-control-radio__label",on:{click:function(i){return t.selectPacking(e,i)}}},[t._v(t._s(e.pack))])])})),0)])]):t._e(),t._v(" "),i("div",{staticClass:"p-control-options__type"},[i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.close,expression:"close"}],staticClass:"p-control-select",class:{show:t.visible}},[i("button",{staticClass:"p-control-select__header",class:{notAvailable:!t.isAvailableOffer},on:{click:function(e){return e.preventDefault(),t.toggle(e)}}},[i("span",{staticClass:"p-control-select__header-label"},[t._v(t._s(t.activeOffer.name))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:(t.availableOffers.length||t.availableDeliveryOffers.length)&&t.activePacking.textCountOffer,expression:"(availableOffers.length || availableDeliveryOffers.length) && activePacking.textCountOffer"}],staticClass:"p-control-select__header-badge"},[t._v(t._s(t.activePacking.textCountOffer))])]),t._v(" "),i("div",{staticClass:"p-control-select__list dropdown-menu",class:{show:t.visible}},[t.availableOffers.length>0?[t._m(0),t._v(" "),t._l(t.availableOffers,(function(e){return i("div",{key:e.id,staticClass:"p-control-select__item",class:{checked:e.id===t.activeOffer.id},on:{click:function(i){return t.selectClick(e)}}},[i("span",{staticClass:"p-control-select__item-name"},[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"p-control-select__item-info"},[t._v("Осталось "+t._s(e.count_group)+" шт.")])])}))]:t._e(),t._v(" "),t.availableDeliveryOffers.length>0?[t._m(1),t._v(" "),t._l(t.availableDeliveryOffers,(function(e){return i("div",{key:e.id,staticClass:"p-control-select__item",class:{checked:e.id===t.activeOffer.id},on:{click:function(i){return t.selectClick(e)}}},[i("span",{staticClass:"p-control-select__item-name"},[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"p-control-select__item-info"},[t._v("Осталось "+t._s(e.count_remote)+" шт.")])])}))]:t._e(),t._v(" "),t.notAvailableOffers.length>0?[t._m(2),t._v(" "),t._l(t.notAvailableOffers,(function(e){return i("div",{key:e.id,staticClass:"p-control-select__item disabled",class:{checked:e.id===t.activeOffer.id},on:{click:function(i){return t.selectClick(e)}}},[i("span",{staticClass:"p-control-select__item-name"},[t._v(t._s(e.name))])])}))]:t._e()],2)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-control-select__delimiter"},[e("span",{staticClass:"p-control-select__delimiter-text"},[this._v("В наличии в магазинах")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-control-select__delimiter"},[e("span",{staticClass:"p-control-select__delimiter-text"},[this._v("Доставка с центрального склада")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-control-select__delimiter"},[e("span",{staticClass:"p-control-select__delimiter-text"},[e("i",{staticClass:"icon icon-not-available"}),this._v(" Нет в наличии\n              ")])])}],!1,null,"48e76de3",null);e.a=o.exports},144:function(t,e,i){"use strict";var r=i(67).a,n=i(1),o=Object(n.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-price"},[t.isAvailableOffer?[i("div",{staticClass:"p-price__new"},[t._v(t._s(t._f("formatPrice")(t.activeOffer.price)))]),t._v(" "),t.activeOffer.old_price>t.activeOffer.price?i("div",{staticClass:"p-price__old"},[t._v(t._s(t._f("formatPrice")(t.activeOffer.old_price)))]):t._e(),t._v(" "),i("div",{staticClass:"p-price__row"},[t._m(0),t._v(" "),i("button",{ref:"tooltip",staticClass:"icon-tooltip",attrs:{"data-toggle":"tooltip",title:"","data-original-title":"Цена в магазинах может отличаться. Данная цена актуальна только при онлайн заказе."}})])]:[t.isAvailableOffer?t._e():i("div",{staticClass:"p-price__title"},[t._v("Последняя цена:")]),t._v(" "),i("div",{staticClass:"p-price__new disabled"},[t._v(t._s(t._f("formatPrice")(t.activeOffer.price)))]),t._v(" "),i("div",{staticClass:"p-price__alert"},[t._v("\n      Подпишитесь на товар, чтобы узнать, когда он снова будет в наличии.\n    ")])]],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-price__col"},[e("span",{staticClass:"gray"},[this._v("Цена актуальна только в интернет-магазине")])])}],!1,null,null,null);e.a=o.exports},219:function(t,e,i){"use strict";i.r(e),function(t){var e=i(11),r=i.n(e),n=i(125);r()((function(){t.PageProduct=new n.a,t.PageProduct.init()}))}.call(this,i(9))},220:function(t,e,i){
/*!
  * Bootstrap tooltip.js v4.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
t.exports=function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),r.forEach((function(e){n(t,e,i[e])}))}return t}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e,i=i&&i.hasOwnProperty("default")?i.default:i;var a=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],s={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},c=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function u(t,e,i){if(0===t.length)return t;if(i&&"function"==typeof i)return i(t);for(var r=(new window.DOMParser).parseFromString(t,"text/html"),n=Object.keys(e),o=[].slice.call(r.body.querySelectorAll("*")),s=function(t,i){var r=o[t],s=r.nodeName.toLowerCase();if(-1===n.indexOf(r.nodeName.toLowerCase()))return r.parentNode.removeChild(r),"continue";var u=[].slice.call(r.attributes),d=[].concat(e["*"]||[],e[s]||[]);u.forEach((function(t){(function(t,e){var i=t.nodeName.toLowerCase();if(-1!==e.indexOf(i))return-1===a.indexOf(i)||Boolean(t.nodeValue.match(c)||t.nodeValue.match(l));for(var r=e.filter((function(t){return t instanceof RegExp})),n=0,o=r.length;n<o;n++)if(i.match(r[n]))return!0;return!1})(t,d)||r.removeAttribute(t.nodeName)}))},u=0,d=o.length;u<d;u++)s(u);return r.body.innerHTML}var d="tooltip",p=".bs.tooltip",_=t.fn[d],f=new RegExp("(^|\\s)bs-tooltip\\S+","g"),v=["sanitize","whiteList","sanitizeFn"],m={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},h={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},g={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:s},b="show",w="out",y={HIDE:"hide"+p,HIDDEN:"hidden"+p,SHOW:"show"+p,SHOWN:"shown"+p,INSERTED:"inserted"+p,CLICK:"click"+p,FOCUSIN:"focusin"+p,FOCUSOUT:"focusout"+p,MOUSEENTER:"mouseenter"+p,MOUSELEAVE:"mouseleave"+p},C="fade",O="show",E=".tooltip-inner",P=".arrow",k="hover",D="focus",L="click",x="manual",T=function(){function n(t,i){if(void 0===e)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(i),this.tip=null,this._setListeners()}var a,s,c,l=n.prototype;return l.enable=function(){this._isEnabled=!0},l.disable=function(){this._isEnabled=!1},l.toggleEnabled=function(){this._isEnabled=!this._isEnabled},l.toggle=function(e){if(this._isEnabled)if(e){var i=this.constructor.DATA_KEY,r=t(e.currentTarget).data(i);r||(r=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,r)),r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(t(this.getTipElement()).hasClass(O))return void this._leave(null,this);this._enter(null,this)}},l.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},l.show=function(){var r=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var n=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(n);var o=i.findShadowRoot(this.element),a=t.contains(null!==o?o:this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!a)return;var s=this.getTipElement(),c=i.getUID(this.constructor.NAME);s.setAttribute("id",c),this.element.setAttribute("aria-describedby",c),this.setContent(),this.config.animation&&t(s).addClass(C);var l="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,u=this._getAttachment(l);this.addAttachmentClass(u);var d=this._getContainer();t(s).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(s).appendTo(d),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new e(this.element,s,{placement:u,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:P},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&r._handlePopperPlacementChange(t)},onUpdate:function(t){return r._handlePopperPlacementChange(t)}}),t(s).addClass(O),"ontouchstart"in document.documentElement&&t(document.body).children().on("mouseover",null,t.noop);var p=function(){r.config.animation&&r._fixTransition();var e=r._hoverState;r._hoverState=null,t(r.element).trigger(r.constructor.Event.SHOWN),e===w&&r._leave(null,r)};if(t(this.tip).hasClass(C)){var _=i.getTransitionDurationFromElement(this.tip);t(this.tip).one(i.TRANSITION_END,p).emulateTransitionEnd(_)}else p()}},l.hide=function(e){var r=this,n=this.getTipElement(),o=t.Event(this.constructor.Event.HIDE),a=function(){r._hoverState!==b&&n.parentNode&&n.parentNode.removeChild(n),r._cleanTipClass(),r.element.removeAttribute("aria-describedby"),t(r.element).trigger(r.constructor.Event.HIDDEN),null!==r._popper&&r._popper.destroy(),e&&e()};if(t(this.element).trigger(o),!o.isDefaultPrevented()){if(t(n).removeClass(O),"ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),this._activeTrigger[L]=!1,this._activeTrigger[D]=!1,this._activeTrigger[k]=!1,t(this.tip).hasClass(C)){var s=i.getTransitionDurationFromElement(n);t(n).one(i.TRANSITION_END,a).emulateTransitionEnd(s)}else a();this._hoverState=""}},l.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},l.isWithContent=function(){return Boolean(this.getTitle())},l.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},l.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},l.setContent=function(){var e=this.getTipElement();this.setElementContent(t(e.querySelectorAll(E)),this.getTitle()),t(e).removeClass(C+" "+O)},l.setElementContent=function(e,i){"object"!=typeof i||!i.nodeType&&!i.jquery?this.config.html?(this.config.sanitize&&(i=u(i,this.config.whiteList,this.config.sanitizeFn)),e.html(i)):e.text(i):this.config.html?t(i).parent().is(e)||e.empty().append(i):e.text(t(i).text())},l.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},l._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=o({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},l._getContainer=function(){return!1===this.config.container?document.body:i.isElement(this.config.container)?t(this.config.container):t(document).find(this.config.container)},l._getAttachment=function(t){return h[t.toUpperCase()]},l._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach((function(i){if("click"===i)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,(function(t){return e.toggle(t)}));else if(i!==x){var r=i===k?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,n=i===k?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(r,e.config.selector,(function(t){return e._enter(t)})).on(n,e.config.selector,(function(t){return e._leave(t)}))}})),t(this.element).closest(".modal").on("hide.bs.modal",(function(){e.element&&e.hide()})),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},l._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},l._enter=function(e,i){var r=this.constructor.DATA_KEY;(i=i||t(e.currentTarget).data(r))||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,i)),e&&(i._activeTrigger["focusin"===e.type?D:k]=!0),t(i.getTipElement()).hasClass(O)||i._hoverState===b?i._hoverState=b:(clearTimeout(i._timeout),i._hoverState=b,i.config.delay&&i.config.delay.show?i._timeout=setTimeout((function(){i._hoverState===b&&i.show()}),i.config.delay.show):i.show())},l._leave=function(e,i){var r=this.constructor.DATA_KEY;(i=i||t(e.currentTarget).data(r))||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,i)),e&&(i._activeTrigger["focusout"===e.type?D:k]=!1),i._isWithActiveTrigger()||(clearTimeout(i._timeout),i._hoverState=w,i.config.delay&&i.config.delay.hide?i._timeout=setTimeout((function(){i._hoverState===w&&i.hide()}),i.config.delay.hide):i.hide())},l._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},l._getConfig=function(e){var r=t(this.element).data();return Object.keys(r).forEach((function(t){-1!==v.indexOf(t)&&delete r[t]})),"number"==typeof(e=o({},this.constructor.Default,r,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),i.typeCheckConfig(d,e,this.constructor.DefaultType),e.sanitize&&(e.template=u(e.template,e.whiteList,e.sanitizeFn)),e},l._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},l._cleanTipClass=function(){var e=t(this.getTipElement()),i=e.attr("class").match(f);null!==i&&i.length&&e.removeClass(i.join(""))},l._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},l._fixTransition=function(){var e=this.getTipElement(),i=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(C),this.config.animation=!1,this.hide(),this.show(),this.config.animation=i)},n._jQueryInterface=function(e){return this.each((function(){var i=t(this).data("bs.tooltip"),r="object"==typeof e&&e;if((i||!/dispose|hide/.test(e))&&(i||(i=new n(this,r),t(this).data("bs.tooltip",i)),"string"==typeof e)){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}}))},a=n,c=[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return g}},{key:"NAME",get:function(){return d}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return y}},{key:"EVENT_KEY",get:function(){return p}},{key:"DefaultType",get:function(){return m}}],(s=null)&&r(a.prototype,s),c&&r(a,c),n}();return t.fn[d]=T._jQueryInterface,t.fn[d].Constructor=T,t.fn[d].noConflict=function(){return t.fn[d]=_,T._jQueryInterface},T}(i(8),i(61),i(33))},221:function(t,e,i){"use strict";var r=i(5),n=i.n(r),o=i(6),a=i.n(o),s=i(0),c=i.n(s),l=i(3),u=function(){function t(e){var i=this;n()(this,t),c()(this,"onClick",(function(t){i.target&&(t.preventDefault(),l.a.scrollTo(i.target))})),this.el=e,this.target=document.querySelector(this.el.getAttribute("href")),this.el.addEventListener("click",this.onClick),this.el.Anchor=this}return a()(t,[{key:"unMount",value:function(){this.el.removeEventListener("click",this.onClick),this.el.Anchor=null}}],[{key:"initHtmlApi",value:function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver((function(e){e.forEach((function(e){Array.prototype.forEach.call(e.addedNodes,(function(e){1===e.nodeType&&(e.hasAttribute("data-anchor")?!e.Anchor&&new t(e):Array.prototype.forEach.call(e.querySelectorAll("[data-anchor]"),(function(e){!e.Anchor&&new t(e)})))})),Array.prototype.forEach.call(e.removedNodes,(function(t){1===t.nodeType&&(t.hasAttribute("data-anchor")?t.Anchor&&t.Anchor.unMount():Array.prototype.forEach.call(t.querySelectorAll("[data-anchor]"),(function(t){t.Anchor&&t.Anchor.unMount()})))}))}))})),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))}},{key:"initDOMLoadedElements",value:function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-anchor]"),(function(e){e.Anchor||new t(e)}))}}]),t}();u.initHtmlApi()},25:function(t,e,i){"use strict";var r,n=i(0),o=i.n(n);function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(){if(void 0!==r)return r;try{if(window.localStorage)return r=!0,!0}catch(t){}return r=!1,!1}var c=(navigator.userAgent||navigator.vendor||window.opera).toLowerCase(),l=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(i,!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({userAgent:c,is:function(t){var e=function(t,e){var i=/(edge|edga|edgios)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(vivaldi)[\/]([\w.]+)/.exec(t)||/(chrome|crios)[\/]([\w.]+)/.exec(t)||/(iemobile)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(firefox|fxios)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[5]||i[3]||i[1]||"",version:i[2]||i[4]||"0",versionNumber:i[4]||i[2]||"0",platform:e[0]||""}}(t,function(t){return/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[]}(t)),i={};e.browser&&(i[e.browser]=!0,i.version=e.version,i.versionNumber=parseInt(e.versionNumber,10)),e.platform&&(i[e.platform]=!0);var r=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];return!0===r||t.indexOf("mobile")>-1?(i.mobile=!0,i.edga||i.edgios?(i.edge=!0,e.browser="edge"):i.crios?(i.chrome=!0,e.browser="chrome"):i.fxios&&(i.firefox=!0,e.browser="firefox")):i.desktop=!0,(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),(i.chrome||i.opr||i.safari||i.vivaldi||!0===i.mobile&&!0!==i.ios&&!0!==r)&&(i.webkit=!0),(i.rv||i.iemobile)&&(e.browser="ie",i.ie=!0),(i.safari&&i.blackberry||i.bb)&&(e.browser="blackberry",i.blackberry=!0),i.safari&&i.playbook&&(e.browser="playbook",i.playbook=!0),i.opr&&(e.browser="opera",i.opera=!0),i.safari&&i.android&&(e.browser="android",i.android=!0),i.safari&&i.kindle&&(e.browser="kindle",i.kindle=!0),i.safari&&i.silk&&(e.browser="silk",i.silk=!0),i.vivaldi&&(e.browser="vivaldi",i.vivaldi=!0),i.name=e.browser,i.platform=e.platform,window.process&&window.process.versions&&window.process.versions.electron?i.electron=!0:0===document.location.href.indexOf("chrome-extension://")?i.chromeExt=!0:(window._cordovaNative||window.cordova)&&(i.cordova=!0),i}(c)},{has:{touch:"ontouchstart"in window||window.navigator.maxTouchPoints>0,webStorage:s()},within:{iframe:window.self!==window.top}});e.a=l},27:function(t,e,i){"use strict";var r=i(0),n=i.n(r),o=i(10),a=i.n(o),s=i(14),c=i.n(s),l=i(3);function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(i,!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}e.a={requestParam:{},addReview:function(t,e){var i=d({ajax:"Y",method:"post",sessid:l.a.sessid(),productId:t},e);return a.a.post("/local/public/product_reviews.php",c.a.stringify(i)).then((function(t){return t.data})).then((function(t){if("ok"===t.status)return t;var e=new Error(t.error);throw e.response=t,e}))},vote:function(t,e){var i={id:t,method:"minus"===e?"voteMinus":"votePlus",sessid:l.a.sessid()};return a.a.post("/local/public/product_reviews.php",c.a.stringify(i)).then((function(t){return t.data})).then((function(t){if("ok"===t.status)return t;var e=new Error(t.error);throw e.response=t,e}))},getReviews:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=d({sessid:l.a.sessid()},this.requestParam,{page:e});return a.a.post("/ajax/review/byProduct/".concat(t,"/"),c.a.stringify(i)).then((function(t){return t.data})).then((function(t){if(t.success)return t;var e=new Error(t.message);throw e.response=t,e}))}}},33:function(t,e,i){
/*!
  * Bootstrap util.js v4.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
t.exports=function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e="transitionend";function i(e){var i=this,n=!1;return t(this).one(r.TRANSITION_END,(function(){n=!0})),setTimeout((function(){n||r.triggerTransitionEnd(i)}),e),this}var r={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var i=t.getAttribute("href");e=i&&"#"!==i?i.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var i=t(e).css("transition-duration"),r=t(e).css("transition-delay"),n=parseFloat(i),o=parseFloat(r);return n||o?(i=i.split(",")[0],r=r.split(",")[0],1e3*(parseFloat(i)+parseFloat(r))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(i){t(i).trigger(e)},supportsTransitionEnd:function(){return Boolean(e)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var o=i[n],a=e[n],s=a&&r.isElement(a)?"element":(c=a,{}.toString.call(c).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(o).test(s))throw new Error(t.toUpperCase()+': Option "'+n+'" provided type "'+s+'" but expected type "'+o+'".')}var c},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?r.findShadowRoot(t.parentNode):null}};return t.fn.emulateTransitionEnd=i,t.event.special[r.TRANSITION_END]={bindType:e,delegateType:e,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}},r}(i(8))},52:function(t,e,i){"use strict";var r=i(5),n=i.n(r),o=i(6),a=i.n(o),s=i(0),c=i.n(s),l=function(){function t(e){var i=this;n()(this,t),c()(this,"calculate",(function(){var t=i.textarea.scrollHeight;""===i.textarea.value?i.textarea.style.height="":i.textarea.style.height="".concat(t+i.border,"px")})),"TEXTAREA"===e.tagName&&(this.textarea=e,this.border=this.textarea.offsetHeight-this.textarea.clientHeight,this.textarea.style.resize="none",this.textarea.style.overflow="hidden",this.textarea.addEventListener("keydown",this.calculate),this.textarea.addEventListener("keyup",this.calculate))}return a()(t,null,[{key:"init",value:function(e){[].forEach.call(e,(function(e){new t(e)}))}}]),t}();e.a=l},54:function(t,e,i){"use strict";var r=i(0),n=i.n(r),o=i(2),a=i(3);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}var c={name:"ProductCard",props:{product:Object},methods:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(i,!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(o.b)(["addToCompare"]),{toggleFavorites:function(t){t.isFavorite?(t.isFavorite=!1,this.$store.dispatch("removeFromFavorites",t.id).catch((function(){t.isFavorite=!0}))):(t.isFavorite=!0,this.$store.dispatch("addToFavorites",t.id).catch((function(){t.isFavorite=!1})))},getText:function(t,e){return"".concat(t," ").concat(a.a.declOfNum(t,e))}})},l=i(1),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-card"},[i("div",{staticClass:"product-card__wrapper",attrs:{itemscope:"",itemtype:"http://schema.org/Product"}},[i("div",{staticClass:"product-card__img"},[i("img",{attrs:{src:t.product.img,srcset:t.product.img2x+" 2x",alt:t.product.name}})]),t._v(" "),i("div",{staticClass:"product-card__body"},[i("a",{staticClass:"product-card__title stretched-link",attrs:{href:t.product.url,itemprop:"name"}},[t._v(t._s(t.product.name))]),t._v(" "),i("div",{staticClass:"product-card__description",attrs:{itemprop:"description"}},[t._v(t._s(t.product.section))])]),t._v(" "),i("div",{staticClass:"product-card__footer",attrs:{itemprop:"offers",itemscope:"",itemtype:"http://schema.org/Offer"}},[i("div",{staticClass:"product-card__price"},[i("meta",{attrs:{itemprop:"price",content:t.product.price}}),t._v(" "),i("meta",{attrs:{itemprop:"priceCurrency",content:"RUB"}}),t._v(" "),i("span",{staticClass:"small"},[t._v("от")]),t._v(" "),i("span",{staticClass:"price"},[t._v(t._s(t._f("formatPrice")(t.product.price)))])]),t._v(" "),t.product.price_benefit>0?i("div",{staticClass:"product-card__sale"},[t._v("\n        Экономия до "+t._s(t._f("formatPrice")(t.product.price_benefit))+"\n      ")]):t._e(),t._v(" "),i("div",{staticClass:"product-card__row"},[i("div",{staticClass:"product-card__reviews",attrs:{itemprop:"aggregateRating",itemscope:"",itemtype:"http://schema.org/AggregateRating"}},[i("meta",{attrs:{itemprop:"ratingValue",content:t.product.rating}}),t._v(" "),i("meta",{attrs:{itemprop:"bestRating",content:"5"}}),t._v(" "),i("meta",{attrs:{itemprop:"reviewCount",content:t.product.review}}),t._v(" "),t.product.rating>=3?i("span",{staticClass:"product-card__rating"},t._l([1,2,3,4,5],(function(e){return i("i",{staticClass:"i i-star",class:{red:e<=t.product.rating}})})),0):t._e(),t._v(" "),i("span",[t._v(t._s(t.product.review?t.getText(t.product.review,["отзыв","отзыва","отзывов"]):""))])]),t._v(" "),i("div",{staticClass:"product-card__stock"},[t.product.isAvailable?[i("link",{attrs:{itemprop:"availability",href:"http://schema.org/InStock"}}),t._v(" "),i("div",{staticClass:"green"},[t._v("В наличии")])]:[i("link",{attrs:{itemprop:"availability",href:"http://schema.org/OutOfStock"}}),t._v(" "),i("div",{staticClass:"red"},[t._v("Нет в наличии")])],t._v(" "),t.product.pack_count>0?i("div",[t._v(t._s(t.getText(t.product.pack_count,["фасовка","фасовки","фасовок"])))]):t._e()],2)])])]),t._v(" "),i("div",{staticClass:"product-stickers"},[t.product.isDeliveryOneDay?i("div",{staticClass:"product-stickers__item product-stickers__item_red product-stickers__item_delivery"},[t._v("Доставка "),i("br"),t._v("1 день")]):t._e(),t._v(" "),t.product.isRecommend?i("div",{staticClass:"product-stickers__item product-stickers__item_yellow"},[t._v("Рекомендуем")]):t._e(),t._v(" "),t.product.isNew?i("div",{staticClass:"product-stickers__item product-stickers__item_green"},[t._v("Новинка")]):t._e(),t._v(" "),t.product.isHit?i("div",{staticClass:"product-stickers__item product-stickers__item_red"},[t._v("Хит!")]):t._e()]),t._v(" "),i("div",{staticClass:"product-control"},[i("button",{staticClass:"product-control__favorites",class:{active:t.product.isFavorite},attrs:{type:"button",title:"Добавить в избранное"},on:{click:function(e){return e.preventDefault(),t.toggleFavorites(t.product)}}},[i("svg",{attrs:{viewBox:"0 0 31 27",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M14.1065 3.81673L15.213 4.99927L16.3074 3.80551C17.6287 2.36432 19.5549 1.5 21.6674 1.5C25.6637 1.5 28.9273 4.75892 28.9337 8.7695C28.9367 10.7119 28.182 12.5375 26.7977 13.9221C26.7972 13.9226 26.7967 13.9231 26.7962 13.9235L15.1759 25.4703L3.63848 13.9236L3.63848 13.9236L3.63448 13.9196C2.2583 12.5527 1.5 10.7308 1.5 8.77825C1.5 4.74155 4.78042 1.50409 8.7695 1.50409C10.8195 1.50409 12.7446 2.36126 14.1065 3.81673ZM15.2282 25.5227L15.2277 25.5222C15.2279 25.5223 15.228 25.5225 15.2282 25.5227Z",fill:"currentColor",stroke:"currentColor","stroke-width":"3"}})])])])])}),[],!1,null,"3a2b3a77",null);e.a=u.exports},61:function(t,e,i){"use strict";i.r(e),function(t){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.15.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var i="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],n=0,o=0;o<r.length;o+=1)if(i&&navigator.userAgent.indexOf(r[o])>=0){n=1;break}var a=i&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),n))}};function s(t){return t&&"[object Function]"==={}.toString.call(t)}function c(t,e){if(1!==t.nodeType)return[];var i=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?i[e]:i}function l(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function u(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=c(t),i=e.overflow,r=e.overflowX,n=e.overflowY;return/(auto|scroll|overlay)/.test(i+n+r)?t:u(l(t))}var d=i&&!(!window.MSInputMethodContext||!document.documentMode),p=i&&/MSIE 10/.test(navigator.userAgent);function _(t){return 11===t?d:10===t?p:d||p}function f(t){if(!t)return document.documentElement;for(var e=_(10)?document.body:null,i=t.offsetParent||null;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var r=i&&i.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===c(i,"position")?f(i):i:t?t.ownerDocument.documentElement:document.documentElement}function v(t){return null!==t.parentNode?v(t.parentNode):t}function m(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=i?t:e,n=i?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(n,0);var a,s,c=o.commonAncestorContainer;if(t!==c&&e!==c||r.contains(n))return"BODY"===(s=(a=c).nodeName)||"HTML"!==s&&f(a.firstElementChild)!==a?f(c):c;var l=v(t);return l.host?m(l.host,e):m(t,v(e).host)}function h(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[e]}return t[e]}function g(t,e){var i="x"===e?"Left":"Top",r="Left"===i?"Right":"Bottom";return parseFloat(t["border"+i+"Width"],10)+parseFloat(t["border"+r+"Width"],10)}function b(t,e,i,r){return Math.max(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],_(10)?parseInt(i["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function w(t){var e=t.body,i=t.documentElement,r=_(10)&&getComputedStyle(i);return{height:b("Height",e,i,r),width:b("Width",e,i,r)}}var y=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},C=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),O=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};function P(t){return E({},t,{right:t.left+t.width,bottom:t.top+t.height})}function k(t){var e={};try{if(_(10)){e=t.getBoundingClientRect();var i=h(t,"top"),r=h(t,"left");e.top+=i,e.left+=r,e.bottom+=i,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?w(t.ownerDocument):{},a=o.width||t.clientWidth||n.right-n.left,s=o.height||t.clientHeight||n.bottom-n.top,l=t.offsetWidth-a,u=t.offsetHeight-s;if(l||u){var d=c(t);l-=g(d,"x"),u-=g(d,"y"),n.width-=l,n.height-=u}return P(n)}function D(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_(10),n="HTML"===e.nodeName,o=k(t),a=k(e),s=u(t),l=c(e),d=parseFloat(l.borderTopWidth,10),p=parseFloat(l.borderLeftWidth,10);i&&n&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var f=P({top:o.top-a.top-d,left:o.left-a.left-p,width:o.width,height:o.height});if(f.marginTop=0,f.marginLeft=0,!r&&n){var v=parseFloat(l.marginTop,10),m=parseFloat(l.marginLeft,10);f.top-=d-v,f.bottom-=d-v,f.left-=p-m,f.right-=p-m,f.marginTop=v,f.marginLeft=m}return(r&&!i?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(f=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=h(e,"top"),n=h(e,"left"),o=i?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=n*o,t.right+=n*o,t}(f,e)),f}function L(t){if(!t||!t.parentElement||_())return document.documentElement;for(var e=t.parentElement;e&&"none"===c(e,"transform");)e=e.parentElement;return e||document.documentElement}function x(t,e,i,r){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=n?L(t):m(t,e);if("viewport"===r)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.ownerDocument.documentElement,r=D(t,i),n=Math.max(i.clientWidth,window.innerWidth||0),o=Math.max(i.clientHeight,window.innerHeight||0),a=e?0:h(i),s=e?0:h(i,"left");return P({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:n,height:o})}(a,n);else{var s=void 0;"scrollParent"===r?"BODY"===(s=u(l(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===r?t.ownerDocument.documentElement:r;var d=D(s,a,n);if("HTML"!==s.nodeName||function t(e){var i=e.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===c(e,"position"))return!0;var r=l(e);return!!r&&t(r)}(a))o=d;else{var p=w(t.ownerDocument),_=p.height,f=p.width;o.top+=d.top-d.marginTop,o.bottom=_+d.top,o.left+=d.left-d.marginLeft,o.right=f+d.left}}var v="number"==typeof(i=i||0);return o.left+=v?i:i.left||0,o.top+=v?i:i.top||0,o.right-=v?i:i.right||0,o.bottom-=v?i:i.bottom||0,o}function T(t,e,i,r,n){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=x(i,r,o,n),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},c=Object.keys(s).map((function(t){return E({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e})).sort((function(t,e){return e.area-t.area})),l=c.filter((function(t){var e=t.width,r=t.height;return e>=i.clientWidth&&r>=i.clientHeight})),u=l.length>0?l[0].key:c[0].key,d=t.split("-")[1];return u+(d?"-"+d:"")}function M(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return D(i,r?L(e):m(e,i),r)}function A(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),i=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+i}}function S(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function j(t,e,i){i=i.split("-")[0];var r=A(t),n={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",s=o?"left":"top",c=o?"height":"width",l=o?"width":"height";return n[a]=e[a]+e[c]/2-r[c]/2,n[s]=i===s?e[s]-r[l]:e[S(s)],n}function I(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function R(t,e,i){return(void 0===i?t:t.slice(0,function(t,e,i){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===i}));var r=I(t,(function(t){return t[e]===i}));return t.indexOf(r)}(t,"name",i))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=t.function||t.fn;t.enabled&&s(i)&&(e.offsets.popper=P(e.offsets.popper),e.offsets.reference=P(e.offsets.reference),e=i(e,t))})),e}function W(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=M(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=T(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=j(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=R(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function N(t,e){return t.some((function(t){var i=t.name;return t.enabled&&i===e}))}function B(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var n=e[r],o=n?""+n+i:t;if(void 0!==document.body.style[o])return o}return null}function q(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[B("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function $(t){var e=t.ownerDocument;return e?e.defaultView:window}function U(t,e,i,r){i.updateBound=r,$(t).addEventListener("resize",i.updateBound,{passive:!0});var n=u(t);return function t(e,i,r,n){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(i,r,{passive:!0}),o||t(u(a.parentNode),i,r,n),n.push(a)}(n,"scroll",i.updateBound,i.scrollParents),i.scrollElement=n,i.eventsEnabled=!0,i}function F(){this.state.eventsEnabled||(this.state=U(this.reference,this.options,this.state,this.scheduleUpdate))}function K(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,$(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function H(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function V(t,e){Object.keys(e).forEach((function(i){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&H(e[i])&&(r="px"),t.style[i]=e[i]+r}))}var z=i&&/Firefox/i.test(navigator.userAgent);function Y(t,e,i){var r=I(t,(function(t){return t.name===e})),n=!!r&&t.some((function(t){return t.name===i&&t.enabled&&t.order<r.order}));if(!n){var o="`"+e+"`",a="`"+i+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return n}var Z=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],G=Z.slice(3);function Q(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=G.indexOf(t),r=G.slice(i+1).concat(G.slice(0,i));return e?r.reverse():r}var X={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function J(t,e,i,r){var n=[0,0],o=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(I(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(c)[0]]),[a[s].split(c)[1]].concat(a.slice(s+1))]:[a];return(l=l.map((function(t,r){var n=(1===r?!o:o)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,i,r){var n=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+n[1],a=n[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=i;break;case"%":case"%r":default:s=r}return P(s)[e]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,n,e,i)}))}))).forEach((function(t,e){t.forEach((function(i,r){H(i)&&(n[e]+=i*("-"===t[r-1]?-1:1))}))})),n}var tt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,i=e.split("-")[0],r=e.split("-")[1];if(r){var n=t.offsets,o=n.reference,a=n.popper,s=-1!==["bottom","top"].indexOf(i),c=s?"left":"top",l=s?"width":"height",u={start:O({},c,o[c]),end:O({},c,o[c]+o[l]-a[l])};t.offsets.popper=E({},a,u[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var i=e.offset,r=t.placement,n=t.offsets,o=n.popper,a=n.reference,s=r.split("-")[0],c=void 0;return c=H(+i)?[+i,0]:J(i,o,a,s),"left"===s?(o.top+=c[0],o.left-=c[1]):"right"===s?(o.top+=c[0],o.left+=c[1]):"top"===s?(o.left+=c[0],o.top-=c[1]):"bottom"===s&&(o.left+=c[0],o.top+=c[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var i=e.boundariesElement||f(t.instance.popper);t.instance.reference===i&&(i=f(i));var r=B("transform"),n=t.instance.popper.style,o=n.top,a=n.left,s=n[r];n.top="",n.left="",n[r]="";var c=x(t.instance.popper,t.instance.reference,e.padding,i,t.positionFixed);n.top=o,n.left=a,n[r]=s,e.boundaries=c;var l=e.priority,u=t.offsets.popper,d={primary:function(t){var i=u[t];return u[t]<c[t]&&!e.escapeWithReference&&(i=Math.max(u[t],c[t])),O({},t,i)},secondary:function(t){var i="right"===t?"left":"top",r=u[i];return u[t]>c[t]&&!e.escapeWithReference&&(r=Math.min(u[i],c[t]-("right"===t?u.width:u.height))),O({},i,r)}};return l.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=E({},u,d[e](t))})),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,i=e.popper,r=e.reference,n=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(n),s=a?"right":"bottom",c=a?"left":"top",l=a?"width":"height";return i[s]<o(r[c])&&(t.offsets.popper[c]=o(r[c])-i[l]),i[c]>o(r[s])&&(t.offsets.popper[c]=o(r[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var i;if(!Y(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var n=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,l=-1!==["left","right"].indexOf(n),u=l?"height":"width",d=l?"Top":"Left",p=d.toLowerCase(),_=l?"left":"top",f=l?"bottom":"right",v=A(r)[u];s[f]-v<a[p]&&(t.offsets.popper[p]-=a[p]-(s[f]-v)),s[p]+v>a[f]&&(t.offsets.popper[p]+=s[p]+v-a[f]),t.offsets.popper=P(t.offsets.popper);var m=s[p]+s[u]/2-v/2,h=c(t.instance.popper),g=parseFloat(h["margin"+d],10),b=parseFloat(h["border"+d+"Width"],10),w=m-t.offsets.popper[p]-g-b;return w=Math.max(Math.min(a[u]-v,w),0),t.arrowElement=r,t.offsets.arrow=(O(i={},p,Math.round(w)),O(i,_,""),i),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(N(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var i=x(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],n=S(r),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case X.FLIP:a=[r,n];break;case X.CLOCKWISE:a=Q(r);break;case X.COUNTERCLOCKWISE:a=Q(r,!0);break;default:a=e.behavior}return a.forEach((function(s,c){if(r!==s||a.length===c+1)return t;r=t.placement.split("-")[0],n=S(r);var l=t.offsets.popper,u=t.offsets.reference,d=Math.floor,p="left"===r&&d(l.right)>d(u.left)||"right"===r&&d(l.left)<d(u.right)||"top"===r&&d(l.bottom)>d(u.top)||"bottom"===r&&d(l.top)<d(u.bottom),_=d(l.left)<d(i.left),f=d(l.right)>d(i.right),v=d(l.top)<d(i.top),m=d(l.bottom)>d(i.bottom),h="left"===r&&_||"right"===r&&f||"top"===r&&v||"bottom"===r&&m,g=-1!==["top","bottom"].indexOf(r),b=!!e.flipVariations&&(g&&"start"===o&&_||g&&"end"===o&&f||!g&&"start"===o&&v||!g&&"end"===o&&m),w=!!e.flipVariationsByContent&&(g&&"start"===o&&f||g&&"end"===o&&_||!g&&"start"===o&&m||!g&&"end"===o&&v),y=b||w;(p||h||y)&&(t.flipped=!0,(p||h)&&(r=a[c+1]),y&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=E({},t.offsets.popper,j(t.instance.popper,t.offsets.reference,t.placement)),t=R(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,i=e.split("-")[0],r=t.offsets,n=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return n[a?"left":"top"]=o[i]-(s?n[a?"width":"height"]:0),t.placement=S(e),t.offsets.popper=P(n),t}},hide:{order:800,enabled:!0,fn:function(t){if(!Y(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=I(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var i=e.x,r=e.y,n=t.offsets.popper,o=I(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=f(t.instance.popper),c=k(s),l={position:n.position},u=function(t,e){var i=t.offsets,r=i.popper,n=i.reference,o=Math.round,a=Math.floor,s=function(t){return t},c=o(n.width),l=o(r.width),u=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),p=e?u||d||c%2==l%2?o:a:s,_=e?o:s;return{left:p(c%2==1&&l%2==1&&!d&&e?r.left-1:r.left),top:_(r.top),bottom:_(r.bottom),right:p(r.right)}}(t,window.devicePixelRatio<2||!z),d="bottom"===i?"top":"bottom",p="right"===r?"left":"right",_=B("transform"),v=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-c.height+u.bottom:u.top,v="right"===p?"HTML"===s.nodeName?-s.clientWidth+u.right:-c.width+u.right:u.left,a&&_)l[_]="translate3d("+v+"px, "+m+"px, 0)",l[d]=0,l[p]=0,l.willChange="transform";else{var h="bottom"===d?-1:1,g="right"===p?-1:1;l[d]=m*h,l[p]=v*g,l.willChange=d+", "+p}var b={"x-placement":t.placement};return t.attributes=E({},b,t.attributes),t.styles=E({},l,t.styles),t.arrowStyles=E({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,i;return V(t.instance.popper,t.styles),e=t.instance.popper,i=t.attributes,Object.keys(i).forEach((function(t){!1!==i[t]?e.setAttribute(t,i[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&V(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,i,r,n){var o=M(n,e,t,i.positionFixed),a=T(i.placement,o,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",a),V(e,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},et=function(){function t(e,i){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=E({},t.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(E({},t.Defaults.modifiers,n.modifiers)).forEach((function(e){r.options.modifiers[e]=E({},t.Defaults.modifiers[e]||{},n.modifiers?n.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return E({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&s(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return C(t,[{key:"update",value:function(){return W.call(this)}},{key:"destroy",value:function(){return q.call(this)}},{key:"enableEventListeners",value:function(){return F.call(this)}},{key:"disableEventListeners",value:function(){return K.call(this)}}]),t}();et.Utils=("undefined"!=typeof window?window:t).PopperUtils,et.placements=Z,et.Defaults=tt,e.default=et}.call(this,i(9))},65:function(t,e,i){"use strict";(function(t){var r=i(0),n=i.n(r),o=i(2),a=i(3),s=i(134),c=i(143),l=i(72),u=i(144);function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}e.a={name:"Detail",components:{ControlCounter:s.a,ControlSelect:c.a,ProductImage:l.a,ProductPrice:u.a},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(i,!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(o.d)("product",{productName:function(t){return t.name},textDelivery:function(t){return t.textDelivery}}),{},Object(o.c)({currentCity:"currentCity",activePacking:"product/activePacking",activeOffer:"product/activeOffer",isAvailableOffer:"product/isAvailableOffer"}),{shipingPeriod:function(){return this.currentCity&&this.currentCity.deliveryCountDays?", ".concat(this.currentCity.deliveryCountDays[0],"-").concat(this.currentCity.deliveryCountDays[1]," дней"):""},freeShipingPrice:function(){return"".concat(this.currentCity&&this.currentCity.priceDelivery||"2 990"," ₽")},availableStore:function(){var t=this;return Object.keys(this.activeOffer.available_store).filter((function(e){return t.activeOffer.available_store[e]>0}))}}),methods:{formatUnit:function(t,e){return"".concat(t," ").concat(a.a.declOfNum(t,e))}},updated:function(){var e=this;this.$nextTick((function(){t(e.$refs.tooltip).tooltip({html:!0,title:e.$refs.tooltipInner,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner tooltip-inner_auto"></div></div>'})}))},mounted:function(){var e=this;this.$nextTick((function(){t(e.$refs.tooltip).tooltip({html:!0,title:e.$refs.tooltipInner,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner tooltip-inner_auto"></div></div>'})}))}}}).call(this,i(8))},66:function(t,e,i){"use strict";(function(t){var r=i(0),n=i.n(r),o=i(2);function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(i,!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}e.a={name:"ControlSelect",data:function(){return{visible:!1,scrollLeft:0,scrollRight:0}},computed:s({},Object(o.d)("product",{packing:function(t){return t.packing}}),{},Object(o.c)("product",["activePacking","activeOffer","visibleOffers","availableOffers","availableDeliveryOffers","notAvailableOffers","isAvailablePacking","isAvailableOffer"])),methods:s({},Object(o.b)("product",["selectOffer"]),{selectPacking:function(e,i){this.$store.dispatch("product/selectPacking",e);var r=i.currentTarget.parentElement;t(this.$refs.tabWrapper).animate({scrollLeft:r.offsetLeft-this.$refs.tabWrapper.clientWidth/2+r.clientWidth/2},300)},selectClick:function(t){this.close(),this.selectOffer(t)},scrollCalc:function(){this.scrollLeft=this.$refs.tabWrapper.scrollLeft,this.scrollRight=this.$refs.tabWrapper.scrollWidth-this.$refs.tabWrapper.clientWidth-this.$refs.tabWrapper.scrollLeft},open:function(){this.visible=!0},close:function(){this.visible=!1},toggle:function(){this.visible=!this.visible}}),mounted:function(){var t=this;this.packing.length>4&&(this.scrollCalc(),this.$refs.tabWrapper.addEventListener("wheel",(function(e){Math.abs(e.deltaY)>Math.abs(e.deltaX)&&(e.preventDefault(),t.$refs.tabWrapper.scrollLeft=t.$refs.tabWrapper.scrollLeft+e.deltaY)})))}}}).call(this,i(8))},67:function(t,e,i){"use strict";(function(t){var r=i(2);e.a={name:"Price",computed:Object(r.c)("product",["activeOffer","isAvailableOffer"]),updated:function(){this.$nextTick((function(){t('[data-toggle="tooltip"]').tooltip()}))},mounted:function(){this.$nextTick((function(){t('[data-toggle="tooltip"]').tooltip()}))}}}).call(this,i(8))},71:function(t,e,i){"use strict";var r=i(0),n=i.n(r),o=i(10),a=i.n(o),s=i(14),c=i.n(s),l=i(3);function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}e.a={requestParam:{},getSimilar:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(i,!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({sessid:l.a.sessid()},this.requestParam);return a.a.post("/ajax/catalog/products/similarByProductId/".concat(t,"/"),c.a.stringify(e)).then((function(t){return t.data})).then((function(t){if(t.success)return t;var e=new Error(t.message);throw e.response=t,e}))}}},72:function(t,e,i){"use strict";var r=i(0),n=i.n(r),o=i(2),a={name:"CanvasImage",props:{src:{type:String,required:!0},src2x:{type:String,required:!1},disabled:{type:Boolean,default:!1}},watch:{src:function(t,e){if(t!==e){if(Object.prototype.hasOwnProperty.call(this.cachedImages,t)){var i=this.cachedImages[t];return this.$el.width=i.naturalWidth,this.$el.height=i.naturalHeight,this.ctx.clearRect(0,0,this.$el.width,this.$el.height),void this.ctx.drawImage(i,0,0)}this.loadImg()}}},created:function(){},mounted:function(){var t=this;this.ctx=this.$el.getContext("2d"),this.cachedImages={},this.img=new Image,this.img.crossOrigin="Anonymous",this.img.addEventListener("load",(function(){t.$el.width=t.img.naturalWidth,t.$el.height=t.img.naturalHeight,t.ctx.clearRect(0,0,t.$el.width,t.$el.height),t.ctx.globalCompositeOperation="darken",t.ctx.fillStyle="#f7f7f7",t.ctx.drawImage(t.img,0,0),t.ctx.fillRect(0,0,t.$el.width,t.$el.height);var e=new Image;e.src=t.$el.toDataURL("image/png"),t.cachedImages[t.img.src]=e,t.$emit("load")}),!1),this.img.addEventListener("error",(function(){t.ctx.clearRect(0,0,t.$el.width,t.$el.height),t.$emit("error")}),!1),this.loadImg()},methods:{loadImg:function(){this.src2x&&Math.round(window.devicePixelRatio||1)>=2?this.img.src=this.src2x:this.img.src=this.src}}},s=i(1);function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(i,!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={name:"ImageBlock",components:{CanvasImage:Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("canvas")}),[],!1,null,null,null).exports},data:function(){return{isSupport:CSS.supports("mix-blend-mode","darken"),imgStatus:"loading"}},computed:l({},Object(o.d)("product",{productName:function(t){return t.name}}),{},Object(o.c)("product",["activePacking","isAvailableOffer","isAvailableDeliveryOffer"])),methods:l({},Object(o.b)(["addToCompare"]),{toggleFavorites:function(t){t.isFavorite?(t.isFavorite=!1,this.$store.dispatch("removeFromFavorites",t.id).catch((function(){t.isFavorite=!0}))):(t.isFavorite=!0,this.$store.dispatch("addToFavorites",t.id).catch((function(){t.isFavorite=!1})))}})},d=Object(s.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-images-block"},[i("div",{staticClass:"p-images-block__image",class:{"p-images-block__image_success":"success"===t.imgStatus&&t.activePacking.gallery&&t.activePacking.gallery.length>0}},[t.activePacking.gallery&&t.activePacking.gallery.length>0?[t.isSupport?i("img",{staticClass:"p-images-block__img",style:{opacity:t.isAvailableOffer?1:"0.3"},attrs:{src:t.activePacking.gallery[0].img.src,alt:t.activePacking.name},on:{load:function(e){t.imgStatus="success"},error:function(e){t.imgStatus="error"}}}):i("CanvasImage",{staticClass:"p-images-block__img",style:{opacity:t.isAvailableOffer?1:"0.3"},attrs:{src:t.activePacking.gallery[0].img.src,src2x:t.activePacking.gallery[0].img.src2x},on:{load:function(e){t.imgStatus="success"},error:function(e){t.imgStatus="error"}}})]:t._e()],2),t._v(" "),i("div",{staticClass:"product-stickers"},[t.activePacking.isDeliveryOneDay&&t.isAvailableDeliveryOffer?i("div",{staticClass:"product-stickers__item product-stickers__item_red product-stickers__item_delivery"},[t._v("Доставка "),i("br"),t._v("1 день")]):t._e(),t._v(" "),t.activePacking.isRecommend?i("div",{staticClass:"product-stickers__item product-stickers__item_yellow"},[t._v("Рекомендуем")]):t._e(),t._v(" "),t.activePacking.isNew?i("div",{staticClass:"product-stickers__item product-stickers__item_green"},[t._v("Новинка")]):t._e(),t._v(" "),t.activePacking.isHit?i("div",{staticClass:"product-stickers__item product-stickers__item_red"},[t._v("Хит!")]):t._e()]),t._v(" "),i("div",{staticClass:"product-control"},[i("button",{staticClass:"product-control__favorites",class:{active:t.activePacking.isFavorite},attrs:{type:"button",title:"Добавить в избранное"},on:{click:function(e){return t.toggleFavorites(t.activePacking)}}},[i("svg",{attrs:{viewBox:"0 0 31 27",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M14.1065 3.81673L15.213 4.99927L16.3074 3.80551C17.6287 2.36432 19.5549 1.5 21.6674 1.5C25.6637 1.5 28.9273 4.75892 28.9337 8.7695C28.9367 10.7119 28.182 12.5375 26.7977 13.9221C26.7972 13.9226 26.7967 13.9231 26.7962 13.9235L15.1759 25.4703L3.63848 13.9236L3.63848 13.9236L3.63448 13.9196C2.2583 12.5527 1.5 10.7308 1.5 8.77825C1.5 4.74155 4.78042 1.50409 8.7695 1.50409C10.8195 1.50409 12.7446 2.36126 14.1065 3.81673ZM15.2282 25.5227L15.2277 25.5222C15.2279 25.5223 15.228 25.5225 15.2282 25.5227Z",fill:"currentColor",stroke:"currentColor","stroke-width":"3"}})])])])])}),[],!1,null,null,null);e.a=d.exports},8:function(t,e){t.exports=jQuery}},[[219,1,0]]]);