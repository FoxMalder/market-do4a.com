/*!
 * Front for marketdo4a.com 1.8.0 
 * By Roman Meshcheryakov, Riverstart, 2020
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[11,15],{15:function(t,e){t.exports=jQuery},277:function(t,e,o){"use strict";o.r(e);var a=o(16),r=o.n(a),n=o(6),s=o(14),i=o(3),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"s-shops"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTabs||!t.currentStoreId,expression:"!isTabs || !currentStoreId"}],staticClass:"s-shops__list"},[o("div",{ref:"scrollEl",staticClass:"s-shops__scroll"},[o("ul",{staticClass:"s-city-list"},[0===t.searchedCityList.length?o("li",{staticClass:"s-city-list__empty"},[t._v("Не найдено")]):t._e(),t._v(" "),t._l(t.searchedCityList,(function(e){return o("li",{key:e.id,staticClass:"s-city",class:{active:e.id===t.$store.state.cityId}},[o("div",{staticClass:"s-city__header"},[o("div",{staticClass:"s-city__name"},[t._v(t._s(e.name))]),t._v(" "),e.id===t.$store.state.cityId?o("div",{staticClass:"s-city__note"},[o("svg",{attrs:{width:"13",height:"15",viewBox:"0 0 13 15",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.04028 0.543988C4.86651 0.290477 6.00108 0 6.95171 0C7.90234 0 9.03691 0.290477 9.86315 0.543988C10.2914 0.675388 10.6666 0.806428 10.935 0.904682C11.0696 0.953918 11.178 0.995202 11.2538 1.02456C11.2917 1.03924 11.3215 1.05096 11.3423 1.05922L11.3668 1.06897L11.3738 1.07179L11.377 1.07308C11.3771 1.07313 11.3772 1.07317 11.0017 2L11.377 1.07308L12.0964 1.36453L11.0425 9.18467L4.9868 14.4714L0.957031 8.94306L1.9882 1.29114L2.52623 1.07317L2.90171 2C2.52623 1.07317 2.52611 1.07322 2.52623 1.07317L2.52966 1.07179L2.53667 1.06897L2.56111 1.05922C2.58194 1.05096 2.61172 1.03924 2.64963 1.02456C2.7254 0.995202 2.83387 0.953918 2.96838 0.904682C3.23681 0.806428 3.61202 0.675388 4.04028 0.543988ZM3.8129 2.72611L3.04639 8.41409L5.31662 11.5286L9.16087 8.17248L9.90365 2.66059C9.71767 2.59642 9.50509 2.52615 9.27649 2.45601C8.47314 2.20952 7.5827 2 6.95171 2C6.32072 2 5.43029 2.20952 4.62693 2.45601C4.31749 2.55096 4.03741 2.64613 3.8129 2.72611Z",fill:"currentColor"}})]),t._v("\n              Вы здесь\n            ")]):t._e()]),t._v(" "),o("ul",{staticClass:"s-city__store-list"},t._l(t.getStoreListByCityId(e.id),(function(e){return o("li",{key:e.id,staticClass:"s-item",class:{active:e.id===t.currentStoreId},on:{click:function(o){return t.getStore(e.id)}}},[o("div",{staticClass:"s-item__header"},[o("div",{staticClass:"s-item__address"},[t._v(t._s(e.name))]),t._v(" "),t.isMobile?o("div",{staticClass:"s-item__info",domProps:{innerHTML:t._s(e.shortAddress||"")}}):o("div",{staticClass:"s-item__info",domProps:{innerHTML:t._s((e.workTime||[]).join("<br>"))}})]),t._v(" "),o("div",{staticClass:"s-item__body"},t._l(e.phone,(function(e){return o("a",{staticClass:"s-item__phone",attrs:{href:"tel:"+t.normalizePhone(e)}},[t._v(t._s(e))])})),0),t._v(" "),o("div",{staticClass:"s-item__bottom"},[t.isMobile?o("div",{staticClass:"s-item__info",domProps:{innerHTML:t._s((e.workTime||[]).join("<br>"))}}):o("div",{staticClass:"s-item__info",domProps:{innerHTML:t._s(e.shortAddress||"")}}),t._v(" "),o("div",{staticClass:"s-item__contacts"},[e.instagram?o("a",{staticClass:"s-item__link",attrs:{href:e.instagram,target:"_blank"}},[o("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.0009 0C7.28508 0 6.94424 0.0118751 5.87756 0.0604173C4.81297 0.109168 4.08629 0.277711 3.45045 0.525005C2.79274 0.780425 2.23481 1.12209 1.67898 1.67814C1.12272 2.23398 0.78105 2.7919 0.524797 3.44941C0.276878 4.08546 0.108126 4.81234 0.060209 5.87652C0.0125001 6.9432 0 7.28424 0 10.0001C0 12.716 0.0120835 13.0558 0.0604173 14.1224C0.109376 15.187 0.27792 15.9137 0.525005 16.5495C0.780633 17.2073 1.1223 17.7652 1.67835 18.321C2.23398 18.8773 2.7919 19.2198 3.4492 19.4752C4.08546 19.7225 4.81234 19.891 5.87673 19.9398C6.94341 19.9883 7.28403 20.0002 9.99969 20.0002C12.7158 20.0002 13.0556 19.9883 14.1222 19.9398C15.1868 19.891 15.9143 19.7225 16.5506 19.4752C17.2081 19.2198 17.7652 18.8773 18.3208 18.321C18.8771 17.7652 19.2187 17.2073 19.475 16.5498C19.7208 15.9137 19.8896 15.1868 19.9396 14.1226C19.9875 13.056 20 12.716 20 10.0001C20 7.28424 19.9875 6.9434 19.9396 5.87673C19.8896 4.81213 19.7208 4.08546 19.475 3.44962C19.2187 2.7919 18.8771 2.23398 18.3208 1.67814C17.7646 1.12189 17.2083 0.780216 16.55 0.525005C15.9125 0.277711 15.1854 0.109168 14.1208 0.0604173C13.0541 0.0118751 12.7145 0 9.99781 0H10.0009ZM9.09388 1.80118C9.36013 1.80076 9.65722 1.80118 9.99097 1.80118C12.661 1.80118 12.9775 1.81076 14.0318 1.85868C15.0069 1.90326 15.536 2.06618 15.8885 2.20305C16.3552 2.38431 16.6879 2.60098 17.0377 2.95098C17.3877 3.30098 17.6044 3.63432 17.7861 4.10099C17.9229 4.45308 18.0861 4.98225 18.1304 5.95726C18.1784 7.01144 18.1888 7.32811 18.1888 9.99689C18.1888 12.6657 18.1784 12.9823 18.1304 14.0365C18.0858 15.0115 17.9229 15.5407 17.7861 15.8928C17.6048 16.3595 17.3877 16.6918 17.0377 17.0415C16.6877 17.3916 16.3554 17.6082 15.8885 17.7895C15.5364 17.927 15.0069 18.0895 14.0318 18.1341C12.9777 18.182 12.661 18.1924 9.99097 18.1924C7.32074 18.1924 7.00427 18.182 5.9501 18.1341C4.97509 18.0891 4.44591 17.9261 4.0932 17.7893C3.62653 17.608 3.29319 17.3913 2.94319 17.0413C2.59319 16.6913 2.37652 16.3588 2.19485 15.892C2.05797 15.5399 1.89484 15.0107 1.85047 14.0357C1.80255 12.9815 1.79297 12.6648 1.79297 9.99439C1.79297 7.32394 1.80255 7.00894 1.85047 5.95476C1.89505 4.97975 2.05797 4.45058 2.19485 4.09808C2.3761 3.6314 2.59319 3.29807 2.94319 2.94806C3.29319 2.59806 3.62653 2.38139 4.0932 2.19972C4.44571 2.06222 4.97509 1.89972 5.9501 1.85493C6.87261 1.81326 7.23011 1.80076 9.09388 1.79868V1.80118ZM15.3484 3.46373C14.6859 3.46373 14.1484 4.00062 14.1484 4.66333C14.1484 5.32584 14.6859 5.86334 15.3484 5.86334C16.011 5.86334 16.5485 5.32584 16.5485 4.66333C16.5485 4.00082 16.011 3.46332 15.3484 3.46332V3.46373ZM9.99875 4.86337C7.16268 4.86337 4.86328 7.16277 4.86328 9.99884C4.86328 12.8349 7.16268 15.1333 9.99875 15.1333C12.8348 15.1333 15.1334 12.8349 15.1334 9.99884C15.1334 7.16277 12.8346 4.86337 9.99854 4.86337H9.99875ZM10.0131 6.66611C11.8539 6.66611 13.3464 8.15841 13.3464 9.99948C13.3464 11.8403 11.8539 13.3328 10.0131 13.3328C8.172 13.3328 6.67969 11.8403 6.67969 9.99948C6.67969 8.15841 8.172 6.66611 10.0131 6.66611Z",fill:"url(#paint0_linear)"}}),t._v(" "),o("defs",[o("linearGradient",{attrs:{id:"paint0_linear",x1:"16.5385",y1:"1.15386",x2:"5.76908",y2:"17.6924",gradientUnits:"userSpaceOnUse"}},[o("stop",{attrs:{"stop-color":"#536DE8"}}),t._v(" "),o("stop",{attrs:{offset:"0.366894","stop-color":"#A84CA7"}}),t._v(" "),o("stop",{attrs:{offset:"0.751381","stop-color":"#FC3436"}}),t._v(" "),o("stop",{attrs:{offset:"1","stop-color":"#FFA10D"}})],1)],1)])]):t._e(),t._v(" "),e.vk?o("a",{staticClass:"s-item__link",attrs:{href:e.vk,target:"_blank"}},[o("svg",{attrs:{width:"26",height:"14",viewBox:"0 0 26 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.005 13.8163C14.005 13.8163 14.4477 13.768 14.6745 13.5289C14.8821 13.3098 14.8749 12.8964 14.8749 12.8964C14.8749 12.8964 14.8473 10.9659 15.7605 10.6809C16.6604 10.4006 17.8159 12.5478 19.0423 13.3735C19.9686 13.9977 20.6718 13.8611 20.6718 13.8611L23.9488 13.8163C23.9488 13.8163 25.6623 13.7127 24.8499 12.39C24.7827 12.2816 24.3759 11.4112 22.4141 9.6232C20.3586 7.7516 20.6346 8.05431 23.1088 4.81642C24.6159 2.8447 25.2183 1.64095 25.0299 1.12623C24.8511 0.63389 23.7424 0.764631 23.7424 0.764631L20.0538 0.78701C20.0538 0.78701 19.7802 0.750497 19.5774 0.869459C19.3794 0.986066 19.251 1.25815 19.251 1.25815C19.251 1.25815 18.6679 2.78346 17.8891 4.08144C16.2464 6.81875 15.5901 6.96363 15.3213 6.79402C14.6961 6.39708 14.8521 5.20157 14.8521 4.35234C14.8521 1.69866 15.2625 0.592666 14.0542 0.30645C13.6534 0.211044 13.3582 0.148618 12.3323 0.138018C11.016 0.125062 9.90242 0.142729 9.27126 0.445435C8.85129 0.646847 8.52731 1.09678 8.7253 1.1227C8.96888 1.1545 9.52085 1.26875 9.81363 1.65979C10.1916 2.16509 10.1784 3.29817 10.1784 3.29817C10.1784 3.29817 10.3956 6.42182 9.67084 6.80933C9.17407 7.07552 8.49251 6.53253 7.0274 4.04846C6.27745 2.77639 5.71108 1.37004 5.71108 1.37004C5.71108 1.37004 5.60189 1.10738 5.4063 0.966042C5.16992 0.795255 4.83994 0.742252 4.83994 0.742252L1.33495 0.764631C1.33495 0.764631 0.808185 0.778765 0.614997 1.00373C0.443408 1.20279 0.601798 1.61621 0.601798 1.61621C0.601798 1.61621 3.34603 7.91886 6.45384 11.0955C9.30366 14.0071 12.5387 13.8163 12.5387 13.8163H14.005Z",fill:"#4C6C91"}})])]):t._e(),t._v(" "),t._l(e.phone,(function(e){return o("a",{staticClass:"s-item__phone",attrs:{href:"tel:"+t.normalizePhone(e)}},[t._v(t._s(e))])}))],2)])])})),0)])}))],2)])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTabs||t.currentStoreId,expression:"!isTabs || currentStoreId"}],staticClass:"s-shops__map"},[t.activeStore?o("div",{staticClass:"s-active-shop"},[o("div",{staticClass:"s-active-shop__header"},[o("button",{staticClass:"s-active-shop__btn-back",on:{click:t.back}},[o("svg",{attrs:{width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.93342 20L-1.03312e-06 10L9.93342 1.20215e-06L11.9431 2L5.32546 8.58579L18 8.58579L18 11.4142L5.32546 11.4142L11.9431 18L9.93342 20Z",fill:"#F4412D"}})])]),t._v(" "),o("div",{staticClass:"s-active-shop__name"},[t._v(t._s(t.activeStore.name))])]),t._v(" "),o("div",{staticClass:"s-active-shop__body"},[o("div",{staticClass:"s-active-shop__info"},[t._v(t._s(t.activeStore.shortAddress))]),t._v(" "),t._l(t.activeStore.phone,(function(e){return o("a",{staticClass:"s-active-shop__phone",attrs:{href:"tel:"+t.normalizePhone(e)}},[t._v(t._s(e))])}))],2),t._v(" "),o("div",{staticClass:"s-active-shop__footer"},[o("div",{staticClass:"s-active-shop__info",domProps:{innerHTML:t._s((t.activeStore.workTime||[]).join("<br>"))}}),t._v(" "),o("div",{staticClass:"s-active-shop__social"},[t.activeStore.instagram?o("a",{staticClass:"s-active-shop__social-link",attrs:{href:t.activeStore.instagram}},[o("svg",{attrs:{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.0009 0C7.28508 0 6.94424 0.0118751 5.87756 0.0604173C4.81297 0.109168 4.08629 0.277711 3.45045 0.525005C2.79274 0.780425 2.23481 1.12209 1.67898 1.67814C1.12272 2.23398 0.78105 2.7919 0.524797 3.44941C0.276878 4.08546 0.108126 4.81234 0.060209 5.87652C0.0125001 6.9432 0 7.28424 0 10.0001C0 12.716 0.0120835 13.0558 0.0604173 14.1224C0.109376 15.187 0.27792 15.9137 0.525005 16.5495C0.780633 17.2073 1.1223 17.7652 1.67835 18.321C2.23398 18.8773 2.7919 19.2198 3.4492 19.4752C4.08546 19.7225 4.81234 19.891 5.87673 19.9398C6.94341 19.9883 7.28403 20.0002 9.99969 20.0002C12.7158 20.0002 13.0556 19.9883 14.1222 19.9398C15.1868 19.891 15.9143 19.7225 16.5506 19.4752C17.2081 19.2198 17.7652 18.8773 18.3208 18.321C18.8771 17.7652 19.2187 17.2073 19.475 16.5498C19.7208 15.9137 19.8896 15.1868 19.9396 14.1226C19.9875 13.056 20 12.716 20 10.0001C20 7.28424 19.9875 6.9434 19.9396 5.87673C19.8896 4.81213 19.7208 4.08546 19.475 3.44962C19.2187 2.7919 18.8771 2.23398 18.3208 1.67814C17.7646 1.12189 17.2083 0.780216 16.55 0.525005C15.9125 0.277711 15.1854 0.109168 14.1208 0.0604173C13.0541 0.0118751 12.7145 0 9.99781 0H10.0009ZM9.09388 1.80118C9.36013 1.80076 9.65722 1.80118 9.99097 1.80118C12.661 1.80118 12.9775 1.81076 14.0318 1.85868C15.0069 1.90326 15.536 2.06618 15.8885 2.20305C16.3552 2.38431 16.6879 2.60098 17.0377 2.95098C17.3877 3.30098 17.6044 3.63432 17.7861 4.10099C17.9229 4.45308 18.0861 4.98225 18.1304 5.95726C18.1784 7.01144 18.1888 7.32811 18.1888 9.99689C18.1888 12.6657 18.1784 12.9823 18.1304 14.0365C18.0858 15.0115 17.9229 15.5407 17.7861 15.8928C17.6048 16.3595 17.3877 16.6918 17.0377 17.0415C16.6877 17.3916 16.3554 17.6082 15.8885 17.7895C15.5364 17.927 15.0069 18.0895 14.0318 18.1341C12.9777 18.182 12.661 18.1924 9.99097 18.1924C7.32074 18.1924 7.00427 18.182 5.9501 18.1341C4.97509 18.0891 4.44591 17.9261 4.0932 17.7893C3.62653 17.608 3.29319 17.3913 2.94319 17.0413C2.59319 16.6913 2.37652 16.3588 2.19485 15.892C2.05797 15.5399 1.89484 15.0107 1.85047 14.0357C1.80255 12.9815 1.79297 12.6648 1.79297 9.99439C1.79297 7.32394 1.80255 7.00894 1.85047 5.95476C1.89505 4.97975 2.05797 4.45058 2.19485 4.09808C2.3761 3.6314 2.59319 3.29807 2.94319 2.94806C3.29319 2.59806 3.62653 2.38139 4.0932 2.19972C4.44571 2.06222 4.97509 1.89972 5.9501 1.85493C6.87261 1.81326 7.23011 1.80076 9.09388 1.79868V1.80118ZM15.3484 3.46373C14.6859 3.46373 14.1484 4.00062 14.1484 4.66333C14.1484 5.32584 14.6859 5.86334 15.3484 5.86334C16.011 5.86334 16.5485 5.32584 16.5485 4.66333C16.5485 4.00082 16.011 3.46332 15.3484 3.46332V3.46373ZM9.99875 4.86337C7.16268 4.86337 4.86328 7.16277 4.86328 9.99884C4.86328 12.8349 7.16268 15.1333 9.99875 15.1333C12.8348 15.1333 15.1334 12.8349 15.1334 9.99884C15.1334 7.16277 12.8346 4.86337 9.99854 4.86337H9.99875ZM10.0131 6.66611C11.8539 6.66611 13.3464 8.15841 13.3464 9.99948C13.3464 11.8403 11.8539 13.3328 10.0131 13.3328C8.172 13.3328 6.67969 11.8403 6.67969 9.99948C6.67969 8.15841 8.172 6.66611 10.0131 6.66611Z",fill:"url(#paint0_linear_2)"}}),t._v(" "),o("defs",[o("linearGradient",{attrs:{id:"paint0_linear_2",x1:"16.5385",y1:"1.15386",x2:"5.76908",y2:"17.6924",gradientUnits:"userSpaceOnUse"}},[o("stop",{attrs:{"stop-color":"#536DE8"}}),t._v(" "),o("stop",{attrs:{offset:"0.366894","stop-color":"#A84CA7"}}),t._v(" "),o("stop",{attrs:{offset:"0.751381","stop-color":"#FC3436"}}),t._v(" "),o("stop",{attrs:{offset:"1","stop-color":"#FFA10D"}})],1)],1)])]):t._e(),t._v(" "),t.activeStore.vk?o("a",{staticClass:"s-active-shop__social-link",attrs:{href:t.activeStore.vk}},[o("svg",{attrs:{viewBox:"0 0 26 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.005 13.8163C14.005 13.8163 14.4477 13.768 14.6745 13.5289C14.8821 13.3098 14.8749 12.8964 14.8749 12.8964C14.8749 12.8964 14.8473 10.9659 15.7605 10.6809C16.6604 10.4006 17.8159 12.5478 19.0423 13.3735C19.9686 13.9977 20.6718 13.8611 20.6718 13.8611L23.9488 13.8163C23.9488 13.8163 25.6623 13.7127 24.8499 12.39C24.7827 12.2816 24.3759 11.4112 22.4141 9.6232C20.3586 7.7516 20.6346 8.05431 23.1088 4.81642C24.6159 2.8447 25.2183 1.64095 25.0299 1.12623C24.8511 0.63389 23.7424 0.764631 23.7424 0.764631L20.0538 0.78701C20.0538 0.78701 19.7802 0.750497 19.5774 0.869459C19.3794 0.986066 19.251 1.25815 19.251 1.25815C19.251 1.25815 18.6679 2.78346 17.8891 4.08144C16.2464 6.81875 15.5901 6.96363 15.3213 6.79402C14.6961 6.39708 14.8521 5.20157 14.8521 4.35234C14.8521 1.69866 15.2625 0.592666 14.0542 0.30645C13.6534 0.211044 13.3582 0.148618 12.3323 0.138018C11.016 0.125062 9.90242 0.142729 9.27126 0.445435C8.85129 0.646847 8.52731 1.09678 8.7253 1.1227C8.96888 1.1545 9.52085 1.26875 9.81363 1.65979C10.1916 2.16509 10.1784 3.29817 10.1784 3.29817C10.1784 3.29817 10.3956 6.42182 9.67084 6.80933C9.17407 7.07552 8.49251 6.53253 7.0274 4.04846C6.27745 2.77639 5.71108 1.37004 5.71108 1.37004C5.71108 1.37004 5.60189 1.10738 5.4063 0.966042C5.16992 0.795255 4.83994 0.742252 4.83994 0.742252L1.33495 0.764631C1.33495 0.764631 0.808185 0.778765 0.614997 1.00373C0.443408 1.20279 0.601798 1.61621 0.601798 1.61621C0.601798 1.61621 3.34603 7.91886 6.45384 11.0955C9.30366 14.0071 12.5387 13.8163 12.5387 13.8163H14.005Z",fill:"#4C6C91"}})])]):t._e()])])]):t._e(),t._v(" "),o("div",{staticClass:"s-map"},[o("div",{staticClass:"s-map__header",attrs:{role:"tablist"}},[o("a",{staticClass:"s-map__tab",class:{active:"map"===t.currentTab},attrs:{role:"tab",href:"#map","aria-controls":"map"},on:{click:function(e){e.preventDefault(),t.currentTab="map"}}},[t._v("Карта")]),t._v(" "),o("a",{directives:[{name:"show",rawName:"v-show",value:t.activeStore&&(t.activeStore.wayOnAuto||t.activeStore.wayOnFoot||t.activeStore.wayImage),expression:"activeStore && (activeStore.wayOnAuto || activeStore.wayOnFoot || activeStore.wayImage)"}],staticClass:"s-map__tab",class:{active:"way"===t.currentTab},attrs:{role:"tab",href:"#way","aria-controls":"way"},on:{click:function(e){e.preventDefault(),t.currentTab="way"}}},[t._v("Как добраться")]),t._v(" "),o("a",{directives:[{name:"show",rawName:"v-show",value:t.activeStore&&t.activeStore.gallery,expression:"activeStore && activeStore.gallery"}],staticClass:"s-map__tab",class:{active:"photo"===t.currentTab},attrs:{role:"tab",href:"#photo","aria-controls":"photo"},on:{click:function(e){e.preventDefault(),t.currentTab="photo"}}},[t._v("Фото")])]),t._v(" "),o("div",{staticClass:"s-map__content"},[o("ShopListMap",{directives:[{name:"show",rawName:"v-show",value:"map"===t.currentTab,expression:"currentTab === 'map'"}],staticClass:"s-map__map",attrs:{role:"tabpanel",id:"#map",currentStoreId:t.currentStoreId},on:{change:t.setPoint}}),t._v(" "),t.activeStore?o("div",{directives:[{name:"show",rawName:"v-show",value:"way"===t.currentTab,expression:"currentTab === 'way'"}],staticClass:"s-map__way",attrs:{role:"tabpanel",id:"#way"}},[t.activeStore.wayImage?o("div",[o("img",{attrs:{src:t.activeStore.wayImage,alt:""}})]):t._e(),t._v(" "),o("div",{staticClass:"s-map__way-text"},[t.activeStore.wayOnAuto?[o("div",[t._v("Добраться на машине:")]),t._v(" "),o("p",{staticClass:"gray",domProps:{innerHTML:t._s(t.activeStore.wayOnAuto)}})]:t._e(),t._v(" "),t.activeStore.wayOnFoot?[o("div",[t._v("Добраться пешком:")]),t._v(" "),o("p",{staticClass:"gray",domProps:{innerHTML:t._s(t.activeStore.wayOnFoot)}})]:t._e()],2)]):t._e(),t._v(" "),t.activeStore&&t.activeStore.gallery?o("div",{directives:[{name:"show",rawName:"v-show",value:"photo"===t.currentTab,expression:"currentTab === 'photo'"}],staticClass:"s-map__gallery",attrs:{role:"tabpanel",id:"#photo"}},[o("img",{attrs:{src:t.activeStore.gallery,alt:""}})]):t._e()],1)])])])};c._withStripped=!0;var l=o(24),u=o.n(l),p=o(2),d=o.n(p),C=o(5),m=o(38),h=o(51),f=o(17);function v(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}var y={name:"ShopList",components:{ShopListMap:h.a},data:function(){return{currentTab:"map",isMobile:document.documentElement.clientWidth<768,isTabs:document.documentElement.clientWidth<1240,shownStoreInfo:!1,searchFieldValue:"",currentStoreId:null}},mounted:function(){var t=this;/(storeId\d+)/i.test(document.location.hash)&&(this.currentStoreId=parseInt(document.location.hash.match(/\d+/)[0],10)),document.documentElement.clientWidth>=1240&&(this.SimpleBar=new m.a(this.$refs.scrollEl,{autoHide:!1})),this.headerEl=document.querySelector(".page-header"),this.headerEl&&([].forEach.call(this.headerEl.querySelectorAll("form"),(function(t){t.addEventListener("submit",(function(t){t.preventDefault()}))})),[].forEach.call(this.headerEl.querySelectorAll("input"),(function(e){e.addEventListener("input",(function(){t.searchFieldValue=e.value.trim().toLowerCase()}))})))},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?v(Object(o),!0).forEach((function(e){d()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(C.c)({getStoreListByCityId:"getStoreListByCityId"}),{sortedCityList:function(){var t=this,e=u()(this.$store.state.cityList),o=e.findIndex((function(e){return e.id===t.$store.state.cityId}));return o>=0&&e.unshift.apply(e,u()(e.splice(o,1))),e},filtredCityList:function(){var t=this;return this.sortedCityList.filter((function(e){return!e.isFake||e.id===t.$store.state.cityId}))},searchedCityList:function(){var t=this;return this.filtredCityList.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.searchFieldValue)}))},activeStore:function(){return this.$store.getters.getStoreById(this.currentStoreId)}}),methods:{normalizePhone:function(t){return t.replace(/[^0-9+\uFF0B]/g,"")},getStore:function(t){this.currentTab="map",this.currentStoreId=t,this.headerEl&&this.isTabs&&(this.headerEl.style.display="none",f.a.scrollTo(this.$el))},back:function(){this.currentStoreId=null,this.headerEl&&(this.headerEl.style.display="")},setPoint:function(t){t?this.getStore(t):this.back()}}},b=o(1),g=Object(b.a)(y,c,[],!1,null,null,null);g.options.__file="src/js/components/ShopList.vue";var _=g.exports;r()((function(){s.a.init(),new n.a({store:i.a,render:function(t){return t(_)}}).$mount(".s-shops")}))},35:function(t,e,o){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t){return(t.icon.color||"blue")+(t.icon.glyph?c(t.icon.glyph):t.icon.content?"Stretchy":"")}function c(t){return t.charAt(0).toUpperCase()+t.slice(1)}function l(t){return t.map((function(t){return Array.isArray(t)?l(t):+t}))}function u(t,e){var o=[];return function t(e,r){if(e===r)return!0;if(e instanceof Date&&r instanceof Date)return+e==+r;if("object"!==a(e)||"object"!==a(r))return!1;if(function(t,e){for(var a=o.length;a--;)if(!(o[a][0]!==t&&o[a][0]!==e||o[a][1]!==e&&o[a][1]!==t))return!0;return!1}(e,r))return!0;o.push([e,r]);var n=Object.keys(e),s=n.length;if(Object.keys(r).length!==s)return!1;for(;s--;)if(!t(e[n[s]],r[n[s]]))return!1;return!0}(t,e)}function p(t,e,o){u(t,e)||(o.rerender&&clearTimeout(o.rerender),o.rerender=setTimeout((function(){return o.updateMap&&o.updateMap()}),10))}o.d(e,"a",(function(){return g})),o.d(e,"b",(function(){return _}));var d=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={},this.ymapReady=!1,this.scriptIsNotAttached=!0}var e,o;return e=t,(o=[{key:"$on",value:function(t,e){var o=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(e),function(){o.events[t]=o.events[t].filter((function(t){return e!==t}))}}},{key:"$emit",value:function(t,e){var o=this.events[t];o&&o.forEach((function(t){return t(e)}))}}])&&r(e.prototype,o),t}()),C=["fullscreenControl","geolocationControl","routeEditor","rulerControl","searchControl","trafficControl","typeSelector","zoomControl","routePanelControl"];function m(t){return 0===t.filter((function(t){return![].concat(C,["default"]).includes(t)})).length}function h(t,e){var o=c(t);if(!e)return o;switch(o){case"Placemark":return"Point";case"Polyline":return"LineString";default:return o}}function f(t,e){var o=e?{type:"Feature",id:t.properties.markerId,geometry:{type:t.markerType,coordinates:t.coords},properties:t.properties,options:t.options}:new ymaps[t.markerType](t.coords,t.properties,t.options);return o.clusterName=t.clusterName,e||function(t,e){if(t&&"object"===a(t))for(var o in t)e.events.add(o,t[o])}(t.callbacks,o),o}var v={pluginOptions:{},data:function(){return{ymapEventBus:d,ymapId:"yandexMap"+Math.round(1e5*Math.random()),myMap:{},style:this.ymapClass?"":"width: 100%; height: 100%;"}},props:{coords:{type:Array,validator:function(t){return!t.filter((function(t){return isNaN(t)})).length},required:!0},zoom:{validator:function(t){return!isNaN(t)},default:18},clusterOptions:{type:Object,default:function(){return{}}},clusterCallbacks:{type:Object,default:function(){return{}}},behaviors:{type:Array,default:function(){return["default"]}},controls:{type:Array,default:function(){return["default"]},validator:function(t){return m(t)}},detailedControls:{type:Object,validator:function(t){return m(Object.keys(t))}},scrollZoom:{type:Boolean,default:!0},zoomControl:Object,mapType:{type:String,default:"map",validator:function(t){return["map","satellite","hybrid"].includes(t)}},placemarks:{type:Array,default:function(){return[]}},useObjectManager:{type:Boolean,default:!1},objectManagerClusterize:{type:Boolean,default:!0},ymapClass:String,initWithoutMarkers:{type:Boolean,default:!0},mapLink:String,debug:{type:Boolean,default:!1},settings:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}}},computed:{coordinates:function(){return this.coords.map((function(t){return+t}))}},methods:{getMarkersFromSlots:function(){return this.$slots.default&&this.$slots.default.map((function(t){var e=t.componentOptions&&t.componentOptions.propsData;if(e){var o={};e.balloonTemplate&&(o={balloonContentLayout:ymaps.templateLayoutFactory.createClass(e.balloonTemplate)});var a={markerId:e.markerId,markerType:e.markerType||"placemark",coords:l(e.coords),hintContent:e.hintContent,markerFill:e.markerFill,circleRadius:+e.circleRadius,clusterName:e.clusterName,markerStroke:e.markerStroke,balloon:e.balloon,callbacks:e.callbacks,properties:e.properties,options:e.options,balloonOptions:o};return e.icon&&["default#image","default#imageWithContent"].includes(e.icon.layout)?(a.iconContent=e.icon.content,a.iconLayout=e.icon.layout,a.iconImageHref=e.icon.imageHref,a.iconImageSize=e.icon.imageSize,a.iconImageOffset=e.icon.imageOffset,a.iconContentOffset=e.icon.contentOffset,e.icon.contentLayout&&"string"==typeof e.icon.contentLayout&&(a.iconContentLayout=ymaps.templateLayoutFactory.createClass(e.icon.contentLayout))):a.icon=e.icon,a}})).filter((function(t){return t&&t.markerType}))||[]},createMarkers:function(){for(var t=this,e=[],o=this.getMarkersFromSlots(),a=0;a<o.length;a++){var r=o[a],n=h(r.markerType,this.useObjectManager),s={hintContent:r.hintContent,iconContent:r.icon&&r.icon.content||r.iconContent,markerId:r.markerId},c=r.balloon?{balloonContentHeader:r.balloon.header,balloonContentBody:r.balloon.body,balloonContentFooter:r.balloon.footer}:{},l=Object.assign(s,c,r.properties),u=r.iconLayout?{iconLayout:r.iconLayout,iconImageHref:r.iconImageHref,iconImageSize:r.iconImageSize,iconImageOffset:r.iconImageOffset,iconContentOffset:r.iconContentOffset,iconContentLayout:r.iconContentLayout}:{preset:r.icon&&"islands#".concat(i(r),"Icon")},p=r.markerStroke?{strokeColor:r.markerStroke.color||"0066ffff",strokeOpacity:parseFloat(r.markerStroke.opacity)>=0?parseFloat(r.markerStroke.opacity):1,strokeStyle:r.markerStroke.style,strokeWidth:parseFloat(r.markerStroke.width)>=0?parseFloat(r.markerStroke.width):1}:{},d=r.markerFill?{fill:r.markerFill.enabled||!0,fillColor:r.markerFill.color||"0066ff99",fillOpacity:parseFloat(r.markerFill.opacity)>=0?parseFloat(r.markerFill.opacity):1,fillImageHref:r.markerFill.imageHref||""}:{},C=Object.assign(u,p,d,r.balloonOptions,r.options);"Circle"===n&&(r.coords=[r.coords,r.circleRadius]);var m=f({properties:l,options:C,markerType:n,coords:r.coords,clusterName:r.clusterName,callbacks:r.callbacks},this.useObjectManager);e.push(m)}return this.placemarks&&this.placemarks.forEach((function(o){var a=o.markerType,r=void 0===a?"Placemark":a,n=o.properties,s=o.options,i=void 0===s?{}:s,c=o.coords,l=o.clusterName,u=o.callbacks,p=o.balloonTemplate,d=h(r,t.useObjectManager);if(p){var C=ymaps.templateLayoutFactory.createClass(p);i.balloonContentLayout=C}var m=f({properties:n,options:i,markerType:d,coords:c,clusterName:l,callbacks:u},t.useObjectManager);e.push(m)})),e},setMarkers:function(){var t={options:this.clusterOptions,callbacks:this.clusterCallbacks,map:this.myMap,useObjectManager:this.useObjectManager,objectManagerClusterize:this.objectManagerClusterize};!function(t,e){var o=e.options,a=e.callbacks,r=e.map,n=e.useObjectManager,i=e.objectManagerClusterize,c={},l=[],u=!0,p=!1,d=void 0;try{for(var C,m=t[Symbol.iterator]();!(u=(C=m.next()).done);u=!0){var h=C.value;h.clusterName?c[h.clusterName]=c[h.clusterName]?[].concat(s(c[h.clusterName]),[h]):[h]:l.push(h)}}catch(t){p=!0,d=t}finally{try{u||null==m.return||m.return()}finally{if(p)throw d}}for(var f in c){var v=o[f]||{},y=a[f]||{},b=v.layout||"\n      <div>{{ properties.balloonContentHeader }}</div>\n      <div>{{ properties.balloonContentBody }}</div>\n      <div>{{ properties.balloonContentFooter }}</div>\n    ";v.clusterBalloonItemContentLayout=ymaps.templateLayoutFactory.createClass(b);var g=v.clusterLayout?ymaps.templateLayoutFactory.createClass(v.clusterLayout):v.clusterBalloonContentLayout||"cluster#balloonTwoColumns";v.clusterBalloonContentLayout=g;var _=v.clusterIconContentLayout;if(v.clusterIconContentLayout=_&&ymaps.templateLayoutFactory.createClass(_),n){var w=new ymaps.ObjectManager(Object.assign({clusterize:i},v));for(var k in y)w.clusters.events.add(k,y[k]);w.add(c[f]),r.geoObjects.add(w)}else{var O=new ymaps.Clusterer(v);for(var L in y)O.events.add(L,y[L]);v.createCluster&&(O.createCluster=v.createCluster),O.add(c[f]),r.geoObjects.add(O)}}if(l.length){var M=n?new ymaps.ObjectManager({clusterize:!1}):new ymaps.GeoObjectCollection;l.forEach((function(t){return M.add(t)})),r.geoObjects.add(M)}}(this.createMarkers(),t)},init:function(){var t=this;window.ymaps&&ymaps.GeoObjectCollection&&(this.initWithoutMarkers||this.$slots.default||this.placemarks.length)&&(this.$emit("map-initialization-started"),this.myMap=new ymaps.Map(this.ymapId,{center:this.coordinates,zoom:+this.zoom,behaviors:this.behaviors,controls:this.controls,type:"yandex#".concat(this.mapType)},this.options),this.myMap.events.add("click",(function(e){return t.$emit("click",e)})),this.zoomControl&&(this.myMap.controls.remove("zoomControl"),this.myMap.controls.add(new ymaps.control.ZoomControl(this.zoomControl))),this.detailedControls&&Object.keys(this.detailedControls).forEach((function(e){t.myMap.controls.remove(e),t.myMap.controls.add(e,t.detailedControls[e])})),!1===this.scrollZoom&&this.myMap.behaviors.disable("scrollZoom"),this.setMarkers(),this.$emit("map-was-initialized",this.myMap))}},watch:{coordinates:function(t){this.myMap.panTo&&this.myMap.panTo(t)},placemarks:function(){window.ymaps&&(this.myMap.geoObjects&&this.myMap.geoObjects.removeAll(),this.setMarkers())},zoom:function(){this.myMap.setZoom(this.zoom)}},render:function(t){return t("section",{class:"ymap-container",ref:"mapContainer"},[t("div",{attrs:{id:this.ymapId,class:this.ymapClass,style:this.style}}),t("div",{ref:"markersContainer",attrs:{class:"ymap-markers"}},[this.$slots.default])])},mounted:function(){var t=this;this.markerObserver=new MutationObserver(function(){this.myMap.geoObjects&&this.myMap.geoObjects.removeAll(),this.setMarkers()}.bind(this)),this.mapObserver=new MutationObserver(function(){this.myMap.container.fitToViewport()}.bind(this));var e=this.$refs,o=e.markersContainer,a=e.mapContainer;if(this.markerObserver.observe(o,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),this.mapObserver.observe(a,{attributes:!0,childList:!0,characterData:!0,subtree:!1}),this.ymapEventBus.scriptIsNotAttached){var r=document.createElement("SCRIPT"),s=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},a=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(o).filter((function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})))),a.forEach((function(e){n(t,e,o[e])}))}return t}({},this.$options.pluginOptions,this.settings),i=s.apiKey,c=void 0===i?"":i,l=s.lang,u=void 0===l?"ru_RU":l,p=s.version,d=void 0===p?"2.1":p,C=s.coordorder,m=void 0===C?"latlong":C,h=this.debug?"debug":"release",f="lang=".concat(u).concat(c&&"&apikey=".concat(c),"&mode=").concat(h,"&coordorder=").concat(m),v=this.mapLink||"https://api-maps.yandex.ru/".concat(d,"/?").concat(f);r.setAttribute("src",v),r.setAttribute("async",""),r.setAttribute("defer",""),document.body.appendChild(r),this.ymapEventBus.scriptIsNotAttached=!1,r.onload=function(){t.ymapEventBus.ymapReady=!0,t.ymapEventBus.$emit("scriptIsLoaded")}}this.ymapEventBus.ymapReady?ymaps.ready(this.init):this.ymapEventBus.$on("scriptIsLoaded",(function(){t.ymapEventBus.updateMap=function(){t.myMap.geoObjects&&t.myMap.geoObjects.removeAll(),t.setMarkers()},ymaps.ready(t.init)}))},beforeDestroy:function(){this.myMap.geoObjects&&this.myMap.geoObjects.removeAll(),this.markerObserver.disconnect()}},y=["placemark","polyline","rectangle","polygon","circle"],b={data:function(){return{ymapEventBus:d,unwatchArr:[]}},props:{coords:{type:Array,required:!0,validator:function(t){return!t.filter((function(t){return isNaN(t)})).length}},hintContent:String,icon:Object,balloon:Object,markerType:{type:String,validator:function(t){return y.includes(t.toLowerCase())},default:"placemark"},markerFill:Object,markerStroke:Object,clusterName:String,circleRadius:{validator:function(t){return!isNaN(t)},default:1e3},callbacks:Object,balloonTemplate:String,markerId:{type:[String,Number],required:!0},properties:Object,options:Object},render:function(){},mounted:function(){var t=this;for(var e in this.$props)this.unwatchArr.push(this.$watch(e,(function(e,o){return p(e,o,t.ymapEventBus)})))},beforeDestroy:function(){this.unwatchArr.forEach((function(t){return t()}))}};v.install=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.pluginOptions=e,t.component("yandex-map",v),t.component("ymap-marker",b)},"undefined"!=typeof window&&window.Vue&&window.Vue.use(v);var g=v,_=b},51:function(t,e,o){"use strict";var a=function(){var t=this.$createElement;return(this._self._c||t)("yandex-map",{attrs:{coords:this.coords,zoom:this.zoom,options:this.options,controls:[],debug:!0},on:{"map-was-initialized":this.mapInit}})};a._withStripped=!0;o(5);var r=o(35),n=o(53),s={name:"ShopListMap",components:{yandexMap:r.a,ymapMarker:r.b},model:{prop:"currentStoreId",event:"change"},props:{currentStoreId:{type:Number,requared:!1}},data:function(){return{coords:[55.74954,37.621587],zoom:17,options:{avoidFractionalZoom:!1}}},watch:{currentStoreId:function(t,e){console.log("сменилось c",e," на ",t),this.objectManager&&(t?this.openBalloon(t):this.objectManager.objects.balloon.close())}},methods:{mapInit:function(t){var e=this;console.log("init"),this.map=t,this.map.margin.setDefaultMargin(200),this.objectManager=n.default.createObjectManager(ymaps),this.objectManager.add({type:"FeatureCollection",features:this.$store.state.storeList.map((function(t){return{type:"Feature",id:t.id,geometry:{type:"Point",coordinates:t.coords},properties:{address:t.name,tel:t.phone[0],link:"Схема проезда",cityId:t.cityId}}}))}),this.objectManager.objects.options.set("openBalloonOnClick",!1),this.objectManager.objects.events.add("click",(function(t){e.objectManager.objects.balloon.isOpen(t.get("objectId"))?e.$emit("change",null):e.$emit("change",t.get("objectId"))})),this.map.geoObjects.add(this.objectManager);var o=this.map.container.getSize();if(0!==o[0]&&0!==o[1]){if(this.currentStoreId)return console.log("setCenter",this.currentStoreId),void this.openBalloon(this.currentStoreId);console.log("setBounds");var a=this.$store.state.storeList.filter((function(t){return t.cityId===e.$store.state.cityId})).map((function(t){return t.coords}));a.length?this.map.setBounds(ymaps.util.pixelBounds.fromPoints(a),{checkZoomRange:!0,preciseZoom:!0,useMapMargin:!0}):this.map.setBounds(this.map.geoObjects.getBounds(),{checkZoomRange:!0,preciseZoom:!0,useMapMargin:!0})}},openBalloon:function(t){var e=this;this.objectManager.objects.balloon.open(t).then((function(){var o=e.objectManager.objects.getById(t);console.log("Открываем балун"),e.map.setCenter(o.geometry.coordinates,16,{duration:1e3,timingFunction:"ease-in-out",useMapMargin:!0,checkZoomRange:!0})}))}},beforeDestroy:function(){this.objectManager.objects.balloon.close()}},i=o(1),c=Object(i.a)(s,a,[],!1,null,"55ff89ec",null);c.options.__file="src/js/components/ShopListMap.vue";e.a=c.exports},53:function(t,e,o){"use strict";o.r(e),function(t){o.d(e,"default",(function(){return m}));var a=o(11),r=o.n(a),n=o(23),s=o.n(n),i=o(8),c=o.n(i),l=o(9),u=o.n(l),p=o(2),d=o.n(p),C=o(57),m=function(){function e(o){c()(this,e);var a="string"==typeof o?document.querySelector(o):o;if(a){this.el=a,this.data=t.app.storeManagerData,this.map=null,this.yandexMap=null,this.objectManager=null;try{this.init()}catch(t){console.error("[Yandex Maps]",t)}}}var o;return u()(e,[{key:"createMap",value:function(){var t=this;this.map=new this.yandexMap.Map(this.el,{center:[55.76,37.64],zoom:7,controls:[]}),this.objectManager=e.createObjectManager(this.yandexMap),this.objectManager.add(e.getFeatureCollection(this.data.stores)),this.map.geoObjects.add(this.objectManager),this.objectManager.setFilter((function(e){return e.properties.cityId===t.data.currentCityId})),this.map.setBounds(this.objectManager.getBounds(),{checkZoomRange:!0}),this.objectManager.setFilter("true");var o=function(e){e.preventDefault(),t.openBalloon(e.currentTarget.dataset.markerId)};[].forEach.call(document.querySelectorAll("[data-marker-id]"),(function(t){return t.addEventListener("click",o)}))}},{key:"init",value:(o=s()(r.a.mark((function o(){return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.ymaps){o.next=6;break}return o.next=3,t.ymaps.ready();case 3:o.t0=o.sent,o.next=9;break;case 6:return o.next=8,C.a.load(e.defaultOptions.apiUrl);case 8:o.t0=o.sent;case 9:this.yandexMap=o.t0,this.createMap(this.yandexMap);case 11:case"end":return o.stop()}}),o,this)}))),function(){return o.apply(this,arguments)})},{key:"openBalloon",value:function(t){var e=this.objectManager.objects.getById(t);this.objectManager.objects.balloon.open(t),this.map.panTo(e.geometry.coordinates)}}],[{key:"createDefaultPreset",value:function(t){var o={iconLayout:t.templateLayoutFactory.createClass(e.defaultOptions.template.icon),iconActiveLayout:t.templateLayoutFactory.createClass(e.defaultOptions.template.iconActive),balloonLayout:t.templateLayoutFactory.createClass(e.defaultOptions.template.balloon),balloonContentLayout:t.templateLayoutFactory.createClass(e.defaultOptions.template.balloonContent)};return t.option.presetStorage.add("do4a#default",{hasHint:!1,iconLayout:o.iconLayout,iconOffset:[-29,-75],iconShape:{type:"Polygon",coordinates:[[[40,0],[54,11],[58,22],[58,34],[50,52],[29,75],[8,52],[0,34],[0,22],[4,11],[18,0]]]},balloonPanelMaxMapArea:0,balloonShadow:!1,balloonAutoPan:!1,hideIconOnBalloonOpen:!1,balloonOffset:[-64,15],balloonLayout:o.balloonLayout,balloonContentLayout:o.balloonContentLayout}),o}},{key:"createObjectManager",value:function(t){var o=e.createDefaultPreset(t),a=new t.ObjectManager({clusterize:!1});return a.clusters.options.set("preset","islands#redClusterIcons"),a.objects.options.set("preset","do4a#default"),a.objects.events.add("balloonopen",(function(t){a.objects.setObjectOptions(t.get("objectId"),{iconLayout:o.iconActiveLayout})})).add("balloonclose",(function(t){a.objects.setObjectOptions(t.get("objectId"),{iconLayout:o.iconLayout})})).add("click",(function(t){a.objects.balloon.isOpen(t.get("objectId"))&&a.objects.balloon.close()})),a}},{key:"getFeatureCollection",value:function(t){return{type:"FeatureCollection",features:Object.values(t).map((function(t){return{type:"Feature",id:t.id,geometry:{type:"Point",coordinates:t.coords.split(",").map((function(t){return parseFloat(t)}))},properties:{address:t.name,tel:t.phone[0],link:"Схема проезда",cityId:t.city}}}))}}}]),e}();d()(m,"defaultOptions",{map:{center:[55.76,37.64],zoom:7,controls:[]},apiUrl:"https://api-maps.yandex.ru/2.1/?lang=ru_RU",balloon:{balloonPanelMaxMapArea:0,balloonShadow:!1,balloonAutoPan:!1,hideIconOnBalloonOpen:!1,balloonOffset:[-64,15]},template:{icon:'<svg width="58" height="75" viewBox="0 0 58 75" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M58 29.376C58 45.3405 29 74.4697 29 74.4697C29 74.4697 0 45.3405 0 29.376C0 13.4115 12.9837 0.469727 29 0.469727C45.0163 0.469727 58 13.4115 58 29.376Z" fill="#F4412D"/>\n            <path d="M17.2554 31.7278L18.8788 32.8211C18.9665 33.7395 19.0981 34.7454 19.493 35.5763C19.5807 35.8387 20.0195 36.3198 20.195 36.5384C20.4582 36.8883 20.6776 37.107 20.9408 37.4131L21.7744 38.244C22.0377 38.5064 22.3448 38.8126 22.608 39.0312C23.2661 39.556 23.6171 39.8622 24.4068 40.4744C25.6353 41.3928 27.0831 42.18 28.4871 43.011C29.7594 43.7982 29.3645 43.7982 30.593 43.0547C32.6989 41.7864 33.6203 41.2616 35.5946 39.8184C36.2527 39.3374 37.6128 38.0691 38.227 37.4568C38.6219 37.0632 39.4116 36.1448 39.6748 35.6638C40.2891 34.6142 40.3329 34.483 40.3329 32.996V23.1123C39.28 22.6312 38.2709 22.1502 37.174 21.7128C33.4887 20.4008 29.3207 19.7886 25.5037 20.7507L25.9863 18.9576C26.6444 18.8702 27.5219 18.6952 28.18 18.6952C28.4432 18.6952 28.4871 18.6515 28.7503 18.6515C30.7685 18.6078 30.8124 18.6515 32.7867 18.9139L34.8049 19.3075C35.463 19.4824 36.1211 19.6136 36.7353 19.8323C38.1831 20.2696 38.929 20.532 40.3329 21.1443L42.0001 21.8878V33.5646C42.0001 34.6142 41.7369 35.0078 41.3859 35.8387C41.2982 36.1011 40.7717 36.8008 40.5962 37.0195C40.4646 37.1944 40.2891 37.3694 40.1574 37.5443C39.982 37.763 39.8942 37.8504 39.6748 38.0254C39.4993 38.2003 39.4116 38.3315 39.2361 38.5502C38.0515 39.6872 37.4812 40.1683 36.1211 41.2616C35.814 41.4803 34.761 42.2675 34.4539 42.4862C34.2784 42.6174 34.059 42.7486 33.8835 42.836C32.7867 43.5358 31.3827 44.3667 30.242 45.0227C29.4523 45.5038 29.891 45.5475 27.7851 44.323C27.0392 43.8856 26.074 43.3171 25.372 42.836C24.4507 42.2238 24.0997 42.0051 23.0906 41.2616C22.257 40.6056 21.4673 39.9496 20.6776 39.2936C20.2388 38.9 18.9226 37.4568 18.5716 37.0195C18.3961 36.8008 18.3084 36.6696 18.1768 36.451C17.0799 34.7891 17.2554 33.7832 17.2554 31.7278Z" fill="#101010"/>\n            <path d="M18.9226 32.8655L18.089 32.297C17.2554 31.7285 17.2554 31.7285 17.2554 31.7285C16.4218 31.2037 16.2024 31.1162 15.4565 30.4602C15.2811 30.329 15.1933 30.1978 15.0617 30.0229C14.3158 29.1045 14.0526 28.9295 14.2281 27.9674C14.272 27.7925 14.3597 27.5738 14.4036 27.3989C14.6229 27.049 14.6668 26.6554 14.8423 26.2618L15.4127 24.9498C15.4565 24.8623 15.5004 24.8186 15.5443 24.6874C15.632 24.5125 15.7198 24.3813 15.8075 24.2063C16.3779 23.0255 16.2901 23.3317 16.9482 22.3258C17.2992 21.801 19.1419 19.5706 19.6684 19.0021C19.8 18.8271 19.8878 18.7397 20.0194 18.6085C20.1071 18.521 20.151 18.521 20.1949 18.4335L20.7214 17.8213C21.5111 16.8591 21.6427 16.7279 22.3447 15.6346C22.7396 15.0223 23.7925 13.3605 24.2751 12.9669C24.5823 12.7045 24.8455 12.5295 25.2404 12.4421C25.5913 12.3546 26.1617 12.3109 26.5566 12.2671C27.083 12.2234 27.3902 12.2671 27.9166 12.3109C29.2329 12.4421 30.3297 12.5295 31.3388 13.4042C31.8653 13.8853 32.1724 14.8474 32.1724 15.5909C32.1724 15.9407 32.304 16.6405 32.0846 16.8591C31.6459 17.1653 29.8032 17.3839 29.5838 17.4277C29.189 17.4714 27.1269 17.7775 26.9514 17.6901C26.7321 17.6026 26.7321 17.5589 26.6443 17.3839L26.074 16.0282C26.0301 15.897 25.8985 15.5471 25.7668 15.6346C25.6352 15.7658 25.6352 15.897 25.6791 16.0719C25.723 16.4655 25.9423 16.9903 26.0301 17.2965C26.2933 18.2586 26.074 19.0021 26.0301 19.0895L25.1087 22.4133C24.9332 22.8943 24.4506 24.425 24.2313 24.9935C24.1874 25.1247 24.0558 25.3434 23.968 25.4746C23.4415 26.3493 22.5202 27.705 22.6957 28.8421C22.8712 29.8917 23.6609 30.4165 24.4506 30.7226C24.8016 30.8975 25.8107 31.0725 26.2056 31.1162C26.2056 31.1162 24.4945 30.5477 23.7487 29.8917C22.1692 28.4485 25.0649 24.8623 25.0649 24.8623C25.4597 24.3375 26.5566 24.2938 26.8637 24.3375C29.0135 24.6874 30.0665 26.6991 30.1103 26.8741C30.1103 26.8741 31.953 24.6874 36.6036 24.6874C38.0076 24.6874 39.8503 25.5621 40.1135 25.6933V33.5653C40.1135 34.4837 39.8941 34.921 39.4993 35.5333C38.7096 36.8015 37.4372 38.0698 36.3404 38.9445C36.121 39.1194 35.9894 39.2506 35.6384 39.5567C35.1997 39.8629 34.5854 40.4314 34.1467 40.6501L32.1285 36.3205C30.8123 36.7141 31.1633 36.6703 29.9348 36.8453C28.8819 36.9765 27.6534 36.9327 26.6004 36.6703C26.2056 36.5829 25.723 36.4517 25.2842 36.3205C21.6427 35.1834 18.9226 32.8655 18.9226 32.8655Z" fill="white"/>\n          </svg>',iconActive:'<svg width="58" height="75" viewBox="0 0 58 75" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M58 29.376C58 45.3405 29 74.4697 29 74.4697C29 74.4697 0 45.3405 0 29.376C0 13.4115 12.9837 0.469727 29 0.469727C45.0163 0.469727 58 13.4115 58 29.376Z" fill="#101010"/>\n            <path d="M17.2553 31.7278L18.8786 32.8211C18.9664 33.7395 19.098 34.7454 19.4929 35.5763C19.5806 35.8387 20.0193 36.3198 20.1948 36.5384C20.4581 36.8883 20.6775 37.107 20.9407 37.4131L21.7743 38.244C22.0375 38.5064 22.3446 38.8126 22.6079 39.0312C23.266 39.556 23.617 39.8622 24.4067 40.4744C25.6352 41.3928 27.083 42.18 28.4869 43.011C29.7593 43.7982 29.3644 43.7982 30.5929 43.0547C32.6988 41.7864 33.6202 41.2616 35.5945 39.8184C36.2526 39.3374 37.6127 38.0691 38.2269 37.4568C38.6217 37.0632 39.4115 36.1448 39.6747 35.6638C40.2889 34.6142 40.3328 34.483 40.3328 32.996V23.1123C39.2799 22.6312 38.2708 22.1502 37.1739 21.7128C33.4885 20.4008 29.3205 19.7886 25.5035 20.7507L25.9862 18.9576C26.6443 18.8702 27.5217 18.6952 28.1798 18.6952C28.4431 18.6952 28.4869 18.6515 28.7502 18.6515C30.7684 18.6078 30.8123 18.6515 32.7866 18.9139L34.8047 19.3075C35.4629 19.4824 36.121 19.6136 36.7352 19.8323C38.183 20.2696 38.9289 20.532 40.3328 21.1443L42 21.8878V33.5646C42 34.6142 41.7368 35.0078 41.3858 35.8387C41.298 36.1011 40.7716 36.8008 40.5961 37.0195C40.4644 37.1944 40.2889 37.3694 40.1573 37.5443C39.9818 37.763 39.8941 37.8504 39.6747 38.0254C39.4992 38.2003 39.4115 38.3315 39.236 38.5502C38.0514 39.6872 37.481 40.1683 36.121 41.2616C35.8138 41.4803 34.7609 42.2675 34.4538 42.4862C34.2783 42.6174 34.0589 42.7486 33.8834 42.836C32.7866 43.5358 31.3826 44.3667 30.2419 45.0227C29.4522 45.5038 29.8909 45.5475 27.785 44.323C27.0391 43.8856 26.0739 43.3171 25.3719 42.836C24.4506 42.2238 24.0996 42.0051 23.0905 41.2616C22.2569 40.6056 21.4672 39.9496 20.6774 39.2936C20.2387 38.9 18.9225 37.4568 18.5715 37.0195C18.396 36.8008 18.3083 36.6696 18.1767 36.451C17.0798 34.7891 17.2553 33.7832 17.2553 31.7278Z" fill="#F4412D"/>\n            <path d="M18.9224 32.8655L18.0888 32.297C17.2552 31.7285 17.2552 31.7285 17.2552 31.7285C16.4216 31.2037 16.2023 31.1162 15.4564 30.4602C15.2809 30.329 15.1932 30.1978 15.0616 30.0229C14.3157 29.1045 14.0525 28.9295 14.228 27.9674C14.2718 27.7925 14.3596 27.5738 14.4035 27.3989C14.6228 27.049 14.6667 26.6554 14.8422 26.2618L15.4125 24.9498C15.4564 24.8623 15.5003 24.8186 15.5442 24.6874C15.6319 24.5125 15.7197 24.3813 15.8074 24.2063C16.3778 23.0255 16.29 23.3317 16.9481 22.3258C17.2991 21.801 19.1418 19.5706 19.6683 19.0021C19.7999 18.8271 19.8877 18.7397 20.0193 18.6085C20.107 18.521 20.1509 18.521 20.1948 18.4335L20.7213 17.8213C21.511 16.8591 21.6426 16.7279 22.3446 15.6346C22.7394 15.0223 23.7924 13.3605 24.275 12.9669C24.5821 12.7045 24.8454 12.5295 25.2402 12.4421C25.5912 12.3546 26.1616 12.3109 26.5564 12.2671C27.0829 12.2234 27.39 12.2671 27.9165 12.3109C29.2327 12.4421 30.3296 12.5295 31.3387 13.4042C31.8651 13.8853 32.1723 14.8474 32.1723 15.5909C32.1723 15.9407 32.3039 16.6405 32.0845 16.8591C31.6458 17.1653 29.8031 17.3839 29.5837 17.4277C29.1889 17.4714 27.1268 17.7775 26.9513 17.6901C26.7319 17.6026 26.7319 17.5589 26.6442 17.3839L26.0738 16.0282C26.03 15.897 25.8983 15.5471 25.7667 15.6346C25.6351 15.7658 25.6351 15.897 25.679 16.0719C25.7228 16.4655 25.9422 16.9903 26.03 17.2965C26.2932 18.2586 26.0738 19.0021 26.03 19.0895L25.1086 22.4133C24.9331 22.8943 24.4505 24.425 24.2311 24.9935C24.1873 25.1247 24.0556 25.3434 23.9679 25.4746C23.4414 26.3493 22.5201 27.705 22.6956 28.8421C22.8711 29.8917 23.6608 30.4165 24.4505 30.7226C24.8015 30.8975 25.8106 31.0725 26.2055 31.1162C26.2055 31.1162 24.4944 30.5477 23.7485 29.8917C22.1691 28.4485 25.0647 24.8623 25.0647 24.8623C25.4596 24.3375 26.5564 24.2938 26.8636 24.3375C29.0134 24.6874 30.0663 26.6991 30.1102 26.8741C30.1102 26.8741 31.9529 24.6874 36.6035 24.6874C38.0075 24.6874 39.8501 25.5621 40.1134 25.6933V33.5653C40.1134 34.4837 39.894 34.921 39.4992 35.5333C38.7094 36.8015 37.4371 38.0698 36.3403 38.9445C36.1209 39.1194 35.9893 39.2506 35.6383 39.5567C35.1995 39.8629 34.5853 40.4314 34.1466 40.6501L32.1284 36.3205C30.8122 36.7141 31.1632 36.6703 29.9347 36.8453C28.8817 36.9765 27.6533 36.9327 26.6003 36.6703C26.2055 36.5829 25.7228 36.4517 25.2841 36.3205C21.6426 35.1834 18.9224 32.8655 18.9224 32.8655Z" fill="white"/>\n          </svg>',balloon:'<div class="map-balloon ">\n            <div class="map-balloon__inner">\n              $[[options.contentLayout observeSize]]\n            </div>\n          </div>',balloonContent:'<div class="map-balloon__address">{{ properties.address }}</div>\n           <a class="map-balloon__tel" href="tel:{{ properties.tel }}">{{ properties.tel }}</a>'}})}.call(this,o(22))},57:function(t,e,o){"use strict";var a={load:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"//api-maps.yandex.ru/2.1/?lang=en_RU",e=function(){var e=t.match(/[\\?&]ns=([^&#]*)/);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))};return this.promise||(this.promise=new Promise((function(e,o){var a=document.createElement("script");a.onload=e,a.onerror=o,a.type="text/javascript",a.src=t,document.body.appendChild(a)})).then((function(){var t=e();return t&&"ymaps"!==t&&(0,eval)("var ymaps = ".concat(t,";")),new Promise((function(t){return ymaps.ready(t)}))}))),this.promise}};e.a=a}},[[277,1,0]]]);